/**
 * Moon Browser v1.0.0-beta.7
 * Copyright 2016-2020 kbrsh
 * Released under the MIT License
 * https://moonjs.org
 */
!function(){"use strict";var t=/[-$\w.]/;function e(t,e){this.expected=t,this.index=e}var n=function(t,n){return function(r,o){var a=n(r,o);return a instanceof e?a:[{type:t,value:a[0]},a[1]]}},r=function(t,n){return n===t.length?["EOF",n]:new e("EOF",n)},o=function(t,n){return n<t.length?[t[n],n+1]:new e("any",n)},a=function(t){return function(n,r){var o=n[r];return o===t?[o,r+1]:new e('"'+t+'"',r)}},i=function(t){return function(n,r){var o=n[r];return void 0!==o&&t.test(o)?[o,r+1]:new e(t.toString(),r)}},u=function(t){return function(n,r){var o=r+t.length;return n.slice(r,o)===t?[t,o]:new e('"'+t+'"',r)}},s=function(t){return function(n,r){if(r<n.length){for(var o=0;o<t.length;o++){var a=t[o];if(n.slice(r,r+a.length)===a)return new e('not "'+a+'"',r)}return[n[r],r+1]}return new e("not "+t.map(JSON.stringify).join(", "),r)}},l=function(t,n){return function(r,o){var a=t(r,o);return a instanceof e&&a.index===o?n(r,o):a}},c=function(t,n){return function(r,o){var a=t(r,o);if(a instanceof e)return a;var i=n(r,a[1]);return i instanceof e?i:[[a[0],i[0]],i[1]]}},f=function(t){return function(n,r){for(var o=[],a=0;a<t.length;a++){var i=t[a](n,r);if(i instanceof e)return i;o.push(i[0]),r=i[1]}return[o,r]}},p=function(t){return function(n,r){for(var o=new e("alternates",-1),a=0;a<t.length;a++){var i=t[a](n,r);if(!(i instanceof e&&i.index===r))return i;i.index>o.index&&(o=i)}return o}},d=function(t){return function(n,r){for(var o,a=[];!((o=t(n,r))instanceof e);)a.push(o[0]),r=o[1];return o.index===r?[a,r]:o}},v=function(t){return function(n,r){var o=[],a=t(n,r);if(a instanceof e)return a;for(o.push(a[0]),r=a[1];!((a=t(n,r))instanceof e);)o.push(a[0]),r=a[1];return a.index===r?[o,r]:a}},h=function(t){return function(n,r){var o=t(n,r);return o instanceof e&&(o.index=r),o}},m=function(t){return function(n,r){var o=t(n,r);return o instanceof e&&o.index===r?[null,r]:o}},g={comment:n("comment",f([a("#"),d(l(c(a("\\"),o),s(["#"]))),a("#")])),separator:function(t,e){return d(l(p([a(" "),a("\t"),a("\n")]),g.comment))(t,e)},value:function(e,n){return p([v(i(t)),f([a('"'),d(l(c(a("\\"),o),s(['"']))),a('"')]),f([a("'"),d(l(c(a("\\"),o),s(["'"]))),a("'")]),f([a("`"),d(l(c(a("\\"),o),s(["`"]))),a("`")]),f([a("("),g.expression,a(")")]),f([a("["),g.expression,a("]")]),f([a("{"),g.expression,a("}")])])(e,n)},attributes:function(t,e){return n("attributes",d(f([g.value,m(f([a("="),g.value])),g.separator])))(t,e)},text:n("text",v(l(c(a("\\"),o),s(["{","<"])))),fragment:function(t,e){return n("fragment",f([u("<>"),d(p([h(g.node),h(g.nodeData),h(g.nodeDataChildren),h(g.fragment),g.text,g.interpolation])),u("</>")]))(t,e)},interpolation:function(t,e){return n("interpolation",f([a("{"),g.expression,a("}")]))(t,e)},node:function(t,e){return n("node",f([a("<"),g.separator,g.value,g.separator,u("*>")]))(t,e)},nodeData:function(t,e){return n("nodeData",f([a("<"),g.separator,g.value,g.separator,l(h(g.attributes),g.value),u("/>")]))(t,e)},nodeDataChildren:function(t,e){return n("nodeDataChildren",f([a("<"),g.separator,g.value,g.separator,g.attributes,a(">"),d(p([h(g.node),h(g.nodeData),h(g.nodeDataChildren),h(g.fragment),g.text,g.interpolation])),u("</"),d(s([">"])),a(">")]))(t,e)},expression:function(t,e){return d(p([f([u("//"),d(s(["\n"]))]),f([u("/*"),d(s(["*/"])),u("*/")]),h(f([a("/"),v(l(c(a("\\"),s(["\n"])),s(["/","\n"]))),a("/")])),g.comment,g.value,h(g.node),h(g.nodeData),h(g.nodeDataChildren),h(g.fragment),a("/"),a("<"),v(s(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(t,e)},main:function(t,e){return c(g.expression,r)(t,e)}};var x=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];function b(t){console.error("[Moon] ERROR: "+t)}function y(t,e){for(var n=e-t.length,r=0;r<n;r++)t=" "+t;return t}var w=/^\s+$/,M=/(^|[^\\])("|\n)/g;function A(t){return Array.isArray(t)&&3===t.length&&"{"===t[0]&&"}"===t[2]?t[1]:t}function E(t){if(!Array.isArray(t)||"{"!==t[0]||"}"!==t[t.length-1])return!1;var e=t[1];if(!Array.isArray(e))return!1;for(var n=!1,r=!1,o=0;o<e.length;o++){var a=e[o];if("?"===a)r=!0;else if(Array.isArray(a))for(var i=0;i<a.length;i++){var u=a[i];"?"===u&&(r=!0),":"===u&&(n=!0)}else"string"==typeof a&&(-1!==a.indexOf("?")&&(r=!0),-1!==a.indexOf(":")&&(n=!0))}return n&&!r}function D(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",r=e,o=0;o<t.length;o++){var a=t[o];if("text"===a.type){var i=C(a);i.isWhitespace?n+=i.output:(n+=r+i.output,r=",")}else if("fragment"===a.type){var u=D(a.value[1],r);n+=u.output,r=u.separator}else"interpolation"===a.type?(n+=r+"...Moon.view.normalizeChildren("+C(a.value[1])+")",r=","):(n+=r+C(a),r=",")}return{output:n,separator:r}}function T(t){var e=C(t);return-1===x.indexOf(e)?e:"Moon.view.components."+e}function C(t){var e,n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var r="",o=0;o<t.length;o++)r+=C(t[o]);return r}if("comment"===n)return"/*"+C(t.value[1])+"*/";if("attributes"===n){for(var a=t.value,i=[],u=[],s=0;s<a.length;s++){var l=a[s],c=C(A(l[0])),f="className"===(e=c)?"class":"htmlFor"===e?"for":"onChange"===e?"oninput":"onDoubleClick"===e?"ondblclick":"dangerouslySetInnerHTML"===e?"innerHTML":e,p=l[1],d=Array.isArray(p)&&"="===p[0]?p[1]:p,v=d&&E(d);if("..."===f.slice(0,3)){var h=f.slice(3)||C(A(d||[]));i.push(h)}else{var m=null===p?"true":v?"{"+C(d[1])+"}":C(A(d));u.push('"'+f+'":'+m)}}if(0===i.length)return{output:u.join(","),separator:0===u.length?"":",",isExpression:!1};var g=0===u.length?"{}":"{"+u.join(",")+"}";return{output:"Object.assign({}, "+i.join(",")+(u.length?", "+g:"")+")",separator:u.length||i.length?",":"",isExpression:!0}}if("text"===n){var x=C(t.value),b=w.test(x)&&-1!==x.indexOf("\n");return{output:b?x:'Moon.view.components.text({data:"'+x.replace(M,(function(t,e,n){return e+('"'===n?'\\"':"\\n\\\n")}))+'"})',isWhitespace:b}}if("interpolation"===n)return"Moon.view.components.text({data:"+C(t.value[1])+"})";if("node"===n){var y=t.value;return C(y[1])+T(y[2])+C(y[3])}if("nodeData"===n){var O=t.value,k=O[4];if("attributes"===k.type){var j=function(t){if(!t||1!==t.length)return null;var e=t[0],n=e[0],r=e[1],o=C(n);return null!==r||"{"!==o[0]&&"("!==o[0]&&"["!==o[0]||"{..."===o.slice(0,4)?null:C(A(n))}(k.value);if(null!==j)return""+C(O[1])+T(O[2])+C(O[3])+"("+j+")"}var H=C(k);return""+C(O[1])+T(O[2])+C(O[3])+"("+("attributes"===k.type?H.isExpression?H.output:"{"+H.output+"}":H)+")"}if("nodeDataChildren"===n){var P,q=t.value,R=C(q[4]),L=q[6],F=L.length>0,N=F?D(L):{output:""};if(R.isExpression)P=F?"Object.assign({}, "+R.output+", {children:["+N.output+"]})":R.output;else{var S=F?(R.separator||"")+"children:["+N.output+"]":"";P="{"+R.output+S+"}"}return""+C(q[1])+T(q[2])+C(q[3])+"("+P+")"}return"fragment"===n?"["+D(t.value[1]).output+"]":void 0}function O(t){var e=function(t){return g.main(t,0)}(t);if("ParseError"===e.constructor.name){var n="Invalid Moon view syntax.\n"+function(t,e,n){for(var r=t.length;r<=e;r++)t+=" ";for(var o=t.split("\n"),a=1,i=1,u=0;u<t.length;u++){var s=t[u];if(u===e){var l=a+":"+i;return"Parse error: expected "+n+" at "+a+":"+i+"\n"+l+" "+(o[a-1]||"")+"\n"+" ".repeat(l.length+1+i-1)+"^"}"\n"===s?(a+=1,i=1):i+=1}return"Parse error: expected "+n+" at end of input"}(t,e.index,e.expected)+"\n\nContext:\n"+function(t,e){for(var n=t.length;n<=e;n++)t+=" ";for(var r=t.split("\n"),o=1,a=1,i=0;i<t.length;i++){var u=t[i];if(i===e){var s=o-1,l=o+1,c=Math.max(Math.floor(Math.log10(s)+1),Math.floor(Math.log10(o)+1),Math.floor(Math.log10(l)+1))+2,f=r[s-1],p=r[o-1],d=r[l-1],v="";return void 0!==f&&(v+=y(s+"| ",c)+f+"\n"),v+=y(o+"| ",c)+p+"\n"+y("| ",c)+y("^",a),void 0!==d&&(v+="\n"+y(l+"| ",c)+d),v}"\n"===u?(o+=1,a=1):a+=1}}(t,e.index);throw b(n),new Error(n)}return C(e[0][0])}var k=[];document.addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll("script"),e=0;e<t.length;e++){var n=t[e];"text/moon"===n.type&&k.push(n)}!function t(){if(0!==k.length){var e=k.shift(),n=e.src;if(0===n.length){var r=document.createElement("script");r.type="text/javascript",r.text=O(e.text),e.parentNode.replaceChild(r,e),t()}else{var o=new XMLHttpRequest;o.responseType="text",o.onload=function(){if(0===o.status||200===o.status){var r=document.createElement("script");r.type="text/javascript",r.text=O(o.response),e.parentNode.replaceChild(r,e)}else b("Invalid script HTTP response.\n\nAttempted to download script:\n\t"+n+"\n\nReceived error HTTP status code:\n\t"+o.status+"\n\nExpected OK HTTP status code 0 or 200.");t()},o.onerror=function(){b("Failed script HTTP request.\n\nAttempted to download script:\n\t"+n+"\n\nReceived error.\n\nExpected successful HTTP request."),t()},o.open("GET",n,!0),o.send(null)}}}()}))}();