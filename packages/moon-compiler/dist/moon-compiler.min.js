/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(t,n){"undefined"==typeof module?t.MoonCompiler=n():module.exports=n()}(this,(function(){"use strict";var t=/[$\w.]/;function n(t,n){this.expected=t,this.index=n}var e=function(t,e){return function(r,o){var a=e(r,o);return a instanceof n?a:[{type:t,value:a[0]},a[1]]}},r=function(t,e){return e===t.length?["EOF",e]:new n("EOF",e)},o=function(t,e){return e<t.length?[t[e],e+1]:new n("any",e)},a=function(t){return function(e,r){var o=e[r];return o===t?[o,r+1]:new n('"'+t+'"',r)}},i=function(t){return function(e,r){var o=e[r];return void 0!==o&&t.test(o)?[o,r+1]:new n(t.toString(),r)}},u=function(t){return function(e,r){var o=r+t.length;return e.slice(r,o)===t?[t,o]:new n('"'+t+'"',r)}},s=function(t){return function(e,r){if(r<e.length){for(var o=0;o<t.length;o++){var a=t[o];if(e.slice(r,r+a.length)===a)return new n('not "'+a+'"',r)}return[e[r],r+1]}return new n("not "+t.map(JSON.stringify).join(", "),r)}},f=function(t,e){return function(r,o){var a=t(r,o);return a instanceof n&&a.index===o?e(r,o):a}},c=function(t,e){return function(r,o){var a=t(r,o);if(a instanceof n)return a;var i=e(r,a[1]);return i instanceof n?i:[[a[0],i[0]],i[1]]}},l=function(t){return function(e,r){for(var o=[],a=0;a<t.length;a++){var i=t[a](e,r);if(i instanceof n)return i;o.push(i[0]),r=i[1]}return[o,r]}},d=function(t){return function(e,r){for(var o=new n("alternates",-1),a=0;a<t.length;a++){var i=t[a](e,r);if(!(i instanceof n&&i.index===r))return i;i.index>o.index&&(o=i)}return o}},p=function(t){return function(e,r){for(var o,a=[];!((o=t(e,r))instanceof n);)a.push(o[0]),r=o[1];return o.index===r?[a,r]:o}},v=function(t){return function(e,r){var o=[],a=t(e,r);if(a instanceof n)return a;for(o.push(a[0]),r=a[1];!((a=t(e,r))instanceof n);)o.push(a[0]),r=a[1];return a.index===r?[o,r]:a}},m=function(t){return function(e,r){var o=t(e,r);return o instanceof n&&(o.index=r),o}},h={comment:e("comment",l([a("#"),p(f(c(a("\\"),o),s(["#"]))),a("#")])),separator:function(t,n){return p(f(d([a(" "),a("\t"),a("\n")]),h.comment))(t,n)},value:function(n,e){return d([v(i(t)),l([a('"'),p(f(c(a("\\"),o),s(['"']))),a('"')]),l([a("'"),p(f(c(a("\\"),o),s(["'"]))),a("'")]),l([a("`"),p(f(c(a("\\"),o),s(["`"]))),a("`")]),l([a("("),h.expression,a(")")]),l([a("["),h.expression,a("]")]),l([a("{"),h.expression,a("}")])])(n,e)},attributes:function(t,n){return e("attributes",p(l([h.value,a("="),h.value,h.separator])))(t,n)},text:e("text",v(f(c(a("\\"),o),s(["{","<"])))),interpolation:function(t,n){return e("interpolation",l([a("{"),h.expression,a("}")]))(t,n)},node:function(t,n){return e("node",l([a("<"),h.separator,h.value,h.separator,u("*>")]))(t,n)},nodeData:function(t,n){return e("nodeData",l([a("<"),h.separator,h.value,h.separator,f(m(h.attributes),h.value),u("/>")]))(t,n)},nodeDataChildren:function(t,n){return e("nodeDataChildren",l([a("<"),h.separator,h.value,h.separator,h.attributes,a(">"),p(d([m(h.node),m(h.nodeData),m(h.nodeDataChildren),h.text,h.interpolation])),u("</"),p(s([">"])),a(">")]))(t,n)},expression:function(t,n){return p(d([l([u("//"),p(s(["\n"]))]),l([u("/*"),p(s(["*/"])),u("*/")]),m(l([a("/"),v(f(c(a("\\"),s(["\n"])),s(["/","\n"]))),a("/")])),h.comment,h.value,m(h.node),m(h.nodeData),m(h.nodeDataChildren),a("/"),a("<"),v(s(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(t,n)},main:function(t,n){return c(h.expression,r)(t,n)}};function b(t){return h.main(t,0)}var g=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];var x=/^\s+$/,y=/(^|[^\\])("|\n)/g;function w(t){return Array.isArray(t)&&3===t.length&&"{"===t[0]&&"}"===t[2]?t[1]:t}function D(t){var n=k(t);return-1===g.indexOf(n)?n:"Moon.view.components."+n}function k(t){var n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var e="",r=0;r<t.length;r++)e+=k(t[r]);return e}if("comment"===n)return"/*"+k(t.value[1])+"*/";if("attributes"===n){for(var o=t.value,a="",i="",u=0;u<o.length;u++){var s=o[u],f=w(s[2]);a+=i+'"'+k(s[0])+'":'+k(f)+k(s[3]),i=","}return{output:a,separator:i}}if("text"===n){var c=k(t.value),l=x.test(c)&&-1!==c.indexOf("\n");return{output:l?c:'Moon.view.components.text({data:"'+c.replace(y,(function(t,n,e){return n+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:l}}if("interpolation"===n)return"Moon.view.components.text({data:"+k(t.value[1])+"})";if("node"===n){var d=t.value;return k(d[1])+D(d[2])+k(d[3])}if("nodeData"===n){var p=t.value,v=p[4],m=k(v);return""+k(p[1])+D(p[2])+k(p[3])+"("+("attributes"===v.type?"{"+m.output+"}":m)+")"}if("nodeDataChildren"===n){var h,b=t.value,g=k(b[4]),C=b[6],O=C.length;if(0===O)h="";else{var A="";h=g.separator+"children:[";for(var M=0;M<O;M++){var q=C[M],j=k(q);"text"===q.type?j.isWhitespace?h+=j.output:(h+=A+j.output,A=","):(h+=A+j,A=",")}h+="]"}return""+k(b[1])+D(b[2])+k(b[3])+"({"+g.output+h+"})"}}return{compile:function(t){var n=b(t);return k(n[0][0])},generate:k,parse:b,version:"1.0.0-beta.7"}}));