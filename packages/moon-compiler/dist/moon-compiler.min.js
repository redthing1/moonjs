/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(n,t){"undefined"==typeof module?n.MoonCompiler=t():module.exports=t()}(this,(function(){"use strict";var n=/[$\w.]/;function t(n,t){this.expected=n,this.index=t}var e=function(n,e){return function(r,o){var a=e(r,o);return a instanceof t?a:[{type:n,value:a[0]},a[1]]}},r=function(n,e){return e===n.length?["EOF",e]:new t("EOF",e)},o=function(n,e){return e<n.length?[n[e],e+1]:new t("any",e)},a=function(n){return function(e,r){var o=e[r];return o===n?[o,r+1]:new t('"'+n+'"',r)}},i=function(n){return function(e,r){var o=e[r];return void 0!==o&&n.test(o)?[o,r+1]:new t(n.toString(),r)}},u=function(n){return function(e,r){var o=r+n.length;return e.slice(r,o)===n?[n,o]:new t('"'+n+'"',r)}},s=function(n){return function(e,r){if(r<e.length){for(var o=0;o<n.length;o++){var a=n[o];if(e.slice(r,r+a.length)===a)return new t('not "'+a+'"',r)}return[e[r],r+1]}return new t("not "+n.map(JSON.stringify).join(", "),r)}},c=function(n,e){return function(r,o){var a=n(r,o);return a instanceof t&&a.index===o?e(r,o):a}},f=function(n,e){return function(r,o){var a=n(r,o);if(a instanceof t)return a;var i=e(r,a[1]);return i instanceof t?i:[[a[0],i[0]],i[1]]}},l=function(n){return function(e,r){for(var o=[],a=0;a<n.length;a++){var i=n[a](e,r);if(i instanceof t)return i;o.push(i[0]),r=i[1]}return[o,r]}},d=function(n){return function(e,r){for(var o=new t("alternates",-1),a=0;a<n.length;a++){var i=n[a](e,r);if(!(i instanceof t&&i.index===r))return i;i.index>o.index&&(o=i)}return o}},p=function(n){return function(e,r){for(var o,a=[];!((o=n(e,r))instanceof t);)a.push(o[0]),r=o[1];return o.index===r?[a,r]:o}},v=function(n){return function(e,r){var o=[],a=n(e,r);if(a instanceof t)return a;for(o.push(a[0]),r=a[1];!((a=n(e,r))instanceof t);)o.push(a[0]),r=a[1];return a.index===r?[o,r]:a}},m=function(n){return function(e,r){var o=n(e,r);return o instanceof t&&(o.index=r),o}},h=function(n){return function(e,r){var o=n(e,r);return o instanceof t&&o.index===r?[null,r]:o}},b={comment:e("comment",l([a("#"),p(c(f(a("\\"),o),s(["#"]))),a("#")])),separator:function(n,t){return p(c(d([a(" "),a("\t"),a("\n")]),b.comment))(n,t)},value:function(t,e){return d([v(i(n)),l([a('"'),p(c(f(a("\\"),o),s(['"']))),a('"')]),l([a("'"),p(c(f(a("\\"),o),s(["'"]))),a("'")]),l([a("`"),p(c(f(a("\\"),o),s(["`"]))),a("`")]),l([a("("),b.expression,a(")")]),l([a("["),b.expression,a("]")]),l([a("{"),b.expression,a("}")])])(t,e)},attributes:function(n,t){return e("attributes",p(l([b.value,h(l([a("="),b.value])),b.separator])))(n,t)},text:e("text",v(c(f(a("\\"),o),s(["{","<"])))),interpolation:function(n,t){return e("interpolation",l([a("{"),b.expression,a("}")]))(n,t)},node:function(n,t){return e("node",l([a("<"),b.separator,b.value,b.separator,u("*>")]))(n,t)},nodeData:function(n,t){return e("nodeData",l([a("<"),b.separator,b.value,b.separator,c(m(b.attributes),b.value),u("/>")]))(n,t)},nodeDataChildren:function(n,t){return e("nodeDataChildren",l([a("<"),b.separator,b.value,b.separator,b.attributes,a(">"),p(d([m(b.node),m(b.nodeData),m(b.nodeDataChildren),b.text,b.interpolation])),u("</"),p(s([">"])),a(">")]))(n,t)},expression:function(n,t){return p(d([l([u("//"),p(s(["\n"]))]),l([u("/*"),p(s(["*/"])),u("*/")]),m(l([a("/"),v(c(f(a("\\"),s(["\n"])),s(["/","\n"]))),a("/")])),b.comment,b.value,m(b.node),m(b.nodeData),m(b.nodeDataChildren),a("/"),a("<"),v(s(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(n,t)},main:function(n,t){return f(b.expression,r)(n,t)}};function g(n){return b.main(n,0)}var x=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];var y=/^\s+$/,w=/(^|[^\\])("|\n)/g;function D(n){return Array.isArray(n)&&3===n.length&&"{"===n[0]&&"}"===n[2]?n[1]:n}function k(n){var t=C(n);return-1===x.indexOf(t)?t:"Moon.view.components."+t}function C(n){var t,e=n.type;if("string"==typeof n)return n;if(Array.isArray(n)){for(var r="",o=0;o<n.length;o++)r+=C(n[o]);return r}if("comment"===e)return"/*"+C(n.value[1])+"*/";if("attributes"===e){for(var a=n.value,i="",u="",s=0;s<a.length;s++){var c=a[s],f="className"===(t=C(D(c[0])))?"class":"htmlFor"===t?"for":t,l=c[1];if("..."===f.slice(0,3))i+=u+"..."+(f.slice(3)||C(D(l&&l[1]||[])))+C(c[2]);else i+=u+'"'+f+'":'+(null===l?"true":C(D(l[1])))+C(c[2]);u=","}return{output:i,separator:u}}if("text"===e){var d=C(n.value),p=y.test(d)&&-1!==d.indexOf("\n");return{output:p?d:'Moon.view.components.text({data:"'+d.replace(w,(function(n,t,e){return t+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:p}}if("interpolation"===e)return"Moon.view.components.text({data:"+C(n.value[1])+"})";if("node"===e){var v=n.value;return C(v[1])+k(v[2])+C(v[3])}if("nodeData"===e){var m=n.value,h=m[4],b=C(h);return""+C(m[1])+k(m[2])+C(m[3])+"("+("attributes"===h.type?"{"+b.output+"}":b)+")"}if("nodeDataChildren"===e){var g,x=n.value,O=C(x[4]),A=x[6],M=A.length;if(0===M)g="";else{var q="";g=O.separator+"children:[";for(var F=0;F<M;F++){var j=A[F],E=C(j);"text"===j.type?E.isWhitespace?g+=E.output:(g+=q+E.output,q=","):(g+=q+E,q=",")}g+="]"}return""+C(x[1])+k(x[2])+C(x[3])+"({"+O.output+g+"})"}}return{compile:function(n){var t=g(n);return C(t[0][0])},generate:C,parse:g,version:"1.0.0-beta.7"}}));