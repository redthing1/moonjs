/**
 * Moon Web v1.0.0-beta.7
 * Copyright 2016-2020 kbrsh
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,n){"undefined"==typeof module?e.Moon=n():module.exports=n()}(this,(function(){"use strict";function e(e,n){this.name=e,this.data=n}var n=null,r=null;function t(e){n=e}function o(e){r=e}var a=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];function i(e){console.error("[Moon] ERROR: "+e)}function u(e,n){for(var r=n-e.length,t=0;t<r;t++)e=" "+e;return e}for(var s={node:function(n){return function(r){return new e(n,r)}}},f=function(){var n=a[l];s[n]=function(r){return new e(n,r)}},l=0;l<a.length;l++)f();var c={};function d(e,n){throw new Error(n)}function v(e,n){if(w(e,n&&n.nodeName?n.nodeName.toLowerCase():"node"),e)if("function"==typeof e)e(n);else{if("object"!=typeof e)throw new Error("[Moon] Unsupported ref type; refs must be functions or ref objects.");e.current=n}}function p(e){if(!e||"object"!=typeof e)return e;for(var n=Object.keys(e),r=0;r<n.length;r++){var t=n[r];if(null!=t&&-1!==t.indexOf("-")){for(var o=t.split("-"),a=o[0],i=1;i<o.length;i++){var u=o[i];u.length>0&&(a+=u[0].toUpperCase()+u.slice(1))}a in e||(e[a]=e[t]),delete e[t]}}return e}function m(e,n){return!(!e||"object"!=typeof e)&&("key"!==n&&"ref"!==n&&("attributes"!==n&&"style"!==n&&"innerHTML"!==n&&"focus"!==n&&"class"!==n&&"for"!==n&&"children"!==n&&(("o"!==n[0]||"n"!==n[1])&&(0!==n.indexOf("data-")&&0!==n.indexOf("aria-")&&!(n in e)))))}function h(e){switch(e){case"onChange":return"oninput";case"onDoubleClick":return"ondblclick";case"onFocus":return"onfocus";case"onBlur":return"onblur";case"onSubmit":return"onsubmit";case"onMouseEnter":return"onmouseenter";case"onMouseLeave":return"onmouseleave";case"onMouseOver":return"onmouseover";case"onMouseOut":return"onmouseout";case"onKeyDown":return"onkeydown";case"onKeyUp":return"onkeyup";case"onKeyPress":return"onkeypress";case"onInput":return"oninput";default:return e.toLowerCase()}}function b(e,n){var r=null===e?"null":Array.isArray(e)?"array":typeof e;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("[Moon] Style on <"+n+"> must be a plain object, received "+r+".")}function y(e,n,r){if("function"!=typeof e)throw new Error("[Moon] Event handler "+n+" on <"+r+"> must be a function.")}function g(e,n){if(void 0!==e){var r=typeof e;if(null===e||"string"!==r&&"number"!==r||""===e)throw new Error("[Moon] Key on <"+n+"> must be a string or number, received "+(null===e?"null":r)+".")}}function w(e,n){if(void 0!==e&&"function"!=typeof e&&(!e||"object"!=typeof e))throw new Error("[Moon] Ref on <"+n+"> must be a function or ref object.")}function x(e,n){if(!Array.isArray(e))throw new Error("[Moon] Children on <"+n+"> must be an array.");for(var r=0;r<e.length;r++){var t=e[r];if(!t||"object"!=typeof t||!t.name)throw new Error("[Moon] Child "+r+" of <"+n+"> is not a valid view node.")}}function M(e,n,r){if(!e||"object"!=typeof e||Array.isArray(e)){var t=null===e?"null":Array.isArray(e)?"array":typeof e;throw new Error("[Moon] "+r+" on <"+n+"> must be a plain object, received "+t+".")}}function k(e,n,r){if("boolean"!=typeof e)throw new Error("[Moon] "+r+" on <"+n+"> must be a boolean.")}function E(e,n,r){if("string"==typeof e||"number"==typeof e)return e;throw new Error("[Moon] "+r+" on <"+n+"> must be a string or number.")}function A(e,n,r){var t=typeof e;if(("number"!==t||!Number.isFinite(e))&&"string"!==t)throw new Error('[Moon] Style "'+r+'" on <'+n+"> must be a finite number or string, received "+t+".")}function C(e,n){if("string"!=typeof e||0===e.length||"null"===e||"undefined"===e)throw new Error("[Moon] Style key on <"+n+"> must be a non-empty string.")}function j(e,n){for(var r in e){if(""===r||null==r||"string"!=typeof r)throw new Error("[Moon] Attribute key on <"+n+"> must be a non-empty string.");var t=e[r],o=typeof t;if(null==t)throw new Error('[Moon] Attribute "'+r+'" on <'+n+"> must not be null/undefined.");if("number"===o&&!Number.isFinite(t))throw new Error('[Moon] Attribute "'+r+'" on <'+n+"> must be a finite number, received "+t+".");if("string"!==o&&"number"!==o&&"boolean"!==o)throw new Error('[Moon] Attribute "'+r+'" on <'+n+"> must be a string, number, or boolean, received "+o+".")}}function O(e,n){if(!e||"object"!=typeof e)throw new Error("[Moon] Props on <"+n+"> must be an object.");for(var r in e){var t=e[r];if(void 0===t)throw new Error('[Moon] Prop "'+r+'" on <'+n+"> is undefined; pass null to intentionally clear.");if("o"===r[0]&&"n"===r[1]&&y(t,r,n),"children"===r&&x(t,n),"attributes"===r&&(M(t,n,"Attributes"),j(t,n)),"style"===r)for(var o in b(t,n),p(t),t)C(o,n),A(t[o],n,o);if("ref"===r&&w(t,n),"key"===r&&g(t,n),"class"!==r&&"for"!==r||E(t,n,r),"focus"===r&&k(t,n,"focus"),"innerHTML"===r&&"string"!=typeof t)throw new Error("[Moon] innerHTML on <"+n+"> must be a string.")}}function T(e){if(!Array.isArray(e)||0===e.length)return"";for(var n="",r=0;r<e.length;r++){var t=e[r];n+=""+(t&&t.name?t.name:"unknown")+(t&&t.data&&void 0!==t.data.key?"#keyed":"#unkeyed")+";"}return n}function D(e,n){var r=e&&e.data?e.data.key:void 0,t=n&&n.data?n.data.key:void 0;if(void 0!==r&&void 0!==t&&r===t){var o=e.data&&e.data.children,a=n.data&&n.data.children;if(o&&a)if(T(o)!==T(a))throw new Error('[Moon] Key "'+t+'" on <'+n.name+"> was reused but its child shape changed; change the key when swapping layouts to avoid DOM corruption.")}}function S(e){var n=e.name;if("text"===n)return document.createTextNode(e.data.data);var r=document.createElement(n);r.MoonChildren=r.MoonChildren||[];var t=e.data;for(var o in O(t,n),t){var a=t[o];if("o"===o[0]&&"n"===o[1])y(a,o,n),r[h(o)]=a;else switch(o){case"attributes":for(var i in M(a,n,"Attributes"),j(a,n),a)r.setAttribute(i,a[i]);break;case"style":b(a,n);var u=r.style;for(var s in p(a),a)C(s,n),A(a[s],n,s),u[s]=a[s];break;case"innerHTML":if("string"!=typeof a)throw new Error("[Moon] innerHTML on <"+n+"> must be a string.");r.innerHTML=a;break;case"focus":k(a,n,"focus"),!0===a&&r.focus();break;case"class":r.className=E(a,n,"class");break;case"for":r.htmlFor=E(a,n,"for");break;case"ref":v(a,r);break;case"children":x(a,n);for(var f=r.MoonChildren=[],l=0;l<a.length;l++){var c=S(a[l]);f.push(c),r.appendChild(c)}break;default:m(r,o)&&d(0,'[Moon] Unknown DOM prop "'+o+'" on <'+n+">; it will be set as a property."),r[o]=a}}return r}Node.prototype.MoonChildren=null;var L={set:function(e){if(n.name===e.name)!function e(n,r,t){var o=n.data,a=t.data;for(var i in O(a,n.name),a){var u=o[i],s=a[i];if(u!==s)if("o"===i[0]&&"n"===i[1])y(s,i,n.name),r[h(i)]=s;else switch(i){case"attributes":if(M(s,n.name,"Attributes"),j(s,n.name),void 0===u)for(var f in s)r.setAttribute(f,s[f]);else{for(var l in s){var T=s[l];u[l]!==T&&r.setAttribute(l,T)}for(var L in u)L in s||r.removeAttribute(L)}break;case"style":var H=r.style;if(b(s,n.name),p(s),u&&p(u),void 0===u)for(var P in s)C(P,n.name),A(s[P],n.name,P),H[P]=s[P];else{for(var N in s){var q=s[N];C(N,n.name),A(q,n.name,N),u[N]!==q&&(H[N]=q)}for(var F in u)F in s||(H[F]="")}break;case"focus":k(s,n.name,"focus"),s?r.focus():r.blur();break;case"class":r.className=E(s,n.name,"class");break;case"for":r.htmlFor=E(s,n.name,"for");break;case"ref":w(s,n.name),v(s,r);break;case"children":var R=r.MoonChildren||[],K=s.length;x(s,n.name),void 0!==u&&x(u,n.name);for(var U=0;U<K;U++){var I=s[U];g(I&&I.data&&I.data.key,I&&I.name?I.name:"node"),w(I&&I.data&&I.data.ref,I&&I.name?I.name:"node")}void 0!==u&&D(n,t);for(var $=[],z=!0,B=!1,G=Object.create(null),W=!1,X=0;X<K;X++){var J=s[X].data&&s[X].data.key;g(J,s[X].name),void 0===J?z=!1:(B=!0,G[J]?W=!0:G[J]=!0),$.push(J)}if(B&&!z&&d(0,"[Moon] Some children have a key and some do not; keyed children must be consistently keyed."),W&&d(0,"[Moon] Duplicate keys detected among siblings; keys must be unique."),void 0===u){for(var Q=0;Q<K;Q++){var V=S(s[Q]);R.push(V),r.appendChild(V)}r.MoonChildren=R}else if(z){for(var Y={},Z=0;Z<u.length;Z++){var _=u[Z].data&&u[Z].data.key;if(g(_,u[Z].name),void 0!==_){if(Y[_])throw new Error("[Moon] Duplicate keys detected among existing siblings under <"+n.name+">; keys must be unique.");Y[_]={node:u[Z],el:R[Z],used:!1}}}for(var ee=[],ne=0;ne<K;ne++){var re=s[ne],te=Y[$[ne]];if(te)e(te.node,te.el,re),te.used=!0,ee.push(te.el);else{var oe=S(re);ee.push(oe)}}for(var ae in Y)Y[ae].used||r.removeChild(Y[ae].el);for(var ie=r.firstChild,ue=0;ue<K;ue++){var se=ee[ue];ie===se?ie=ie.nextSibling:(r.insertBefore(se,ie),ie=se.nextSibling)}for(;ie;){var fe=ie.nextSibling;r.removeChild(ie),ie=fe}r.MoonChildren=ee}else{var le=u.length;if(le===K)for(var ce=0;ce<le;ce++){var de=u[ce],ve=s[ce];if(de!==ve)if(de.name===ve.name)e(de,R[ce],ve);else{var pe=S(ve);r.replaceChild(pe,R[ce]),R[ce]=pe}}else if(le>K){for(var me=0;me<K;me++){var he=u[me],be=s[me];if(he!==be)if(he.name===be.name)e(he,R[me],be);else{var ye=S(be);r.replaceChild(ye,R[me]),R[me]=ye}}for(var ge=K;ge<le;ge++)r.removeChild(R.pop())}else{for(var we=0;we<le;we++){var xe=u[we],Me=s[we];if(xe!==Me)if(xe.name===Me.name)e(xe,R[we],Me);else{var ke=S(Me);r.replaceChild(ke,R[we]),R[we]=ke}}for(var Ee=le;Ee<K;Ee++){var Ae=S(s[Ee]);R.push(Ae),r.appendChild(Ae)}}}break;default:m(r,i)&&d(0,'[Moon] Unknown DOM prop "'+i+'" on <'+n.name+">; use a valid DOM prop or data-/aria-."),r[i]=s}}for(var Ce in o)if(!(Ce in a))if("o"===Ce[0]&&"n"===Ce[1])r[Ce.toLowerCase()]=null;else switch(Ce){case"attributes":var je=o.attributes;for(var Oe in je)r.removeAttribute(Oe);break;case"focus":r.blur();break;case"class":r.className="";break;case"for":r.htmlFor="";break;case"children":for(var Te=o.children.length,De=r.MoonChildren||[],Se=0;Se<Te;Se++)r.removeChild(De.pop());break;case"ref":v(o.ref,null);break;default:var Le=n.name;r[Ce]=(Le in c?c[Le]:c[Le]="text"===Le?document.createTextNode(""):document.createElement(Le))[Ce]}}(n,r,e);else{var a=S(e);r.parentNode.replaceChild(a,r),o(a)}t(e)}},H={components:s,mount:function(n){o(n);for(var a=r.attributes,i={},u=0;u<a.length;u++){var s=a[u];i[s.name]=s.value}t(new e(r.tagName.toLowerCase(),i))},normalizeChildren:function e(n){if(null==n||"boolean"==typeof n)return[];if(Array.isArray(n)){for(var r=[],t=0;t<n.length;t++)for(var o=e(n[t]),a=0;a<o.length;a++)r.push(o[a]);return r}var i=typeof n;return"string"===i||"number"===i||"bigint"===i?[s.text({data:String(n)})]:n&&void 0!==n.name?[n]:[s.text({data:String(n)})]},cls:function e(){for(var n="",r=0;r<arguments.length;r++){var t=arguments[r];if(t){var o=typeof t;if("string"===o||"number"===o)n+=(n?" ":"")+t;else if(Array.isArray(t)){var a=e.apply(null,t);a&&(n+=(n?" ":"")+a)}else if("object"===o)for(var i in t)t[i]&&(n+=(n?" ":"")+i)}}return n},mergeProps:function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];if(r&&"object"==typeof r)for(var t in r)e[t]=r[t]}return e}};var P={router:function(e){for(var n=e.route,r="/",t=e.routes,o=1;o<n.length;o++){var a=n[o];"/"===a?(t=(r in t?t[r]:t["/*"])[1],r="/"):r+=a}return(r in t?t[r]:t["/*"])[0](e)}},N={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},q={get:function(){return localStorage},set:function(e){for(var n in e){var r=e[n];localStorage[n]!==r&&(localStorage[n]=r)}for(var t in localStorage)t in e||delete localStorage[t]}},F=/^([^:]+):\s*([^]*?)\s*$/gm,R={set:function(e){var n=new XMLHttpRequest;if(n.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(n.onload=function(){for(var r,t={},o=n.getAllResponseHeaders();null!==(r=F.exec(o));)t[r[1]]=r[2];e.onLoad({status:n.status,headers:t,body:n.response})}),"onError"in e&&(n.onerror=e.onError),n.open("method"in e?e.method:"GET",e.url),"headers"in e){var r=e.headers;for(var t in r)n.setRequestHeader(t,r[t])}n.send("body"in e?e.body:null)}},K={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},U={data:{}};Object.defineProperty(U,"view",L),Object.defineProperty(U,"time",N),Object.defineProperty(U,"storage",q),Object.defineProperty(U,"http",R),Object.defineProperty(U,"route",K);var I={m:U,route:P,version:"1.0.0-beta.7",view:H},$=/[-$\w.]/;function z(e,n){this.expected=e,this.index=n}var B=function(e,n){return function(r,t){var o=n(r,t);return o instanceof z?o:[{type:e,value:o[0]},o[1]]}},G=function(e,n){return n===e.length?["EOF",n]:new z("EOF",n)},W=function(e,n){return n<e.length?[e[n],n+1]:new z("any",n)},X=function(e){return function(n,r){var t=n[r];return t===e?[t,r+1]:new z('"'+e+'"',r)}},J=function(e){return function(n,r){var t=n[r];return void 0!==t&&e.test(t)?[t,r+1]:new z(e.toString(),r)}},Q=function(e){return function(n,r){var t=r+e.length;return n.slice(r,t)===e?[e,t]:new z('"'+e+'"',r)}},V=function(e){return function(n,r){if(r<n.length){for(var t=0;t<e.length;t++){var o=e[t];if(n.slice(r,r+o.length)===o)return new z('not "'+o+'"',r)}return[n[r],r+1]}return new z("not "+e.map(JSON.stringify).join(", "),r)}},Y=function(e,n){return function(r,t){var o=e(r,t);return o instanceof z&&o.index===t?n(r,t):o}},Z=function(e,n){return function(r,t){var o=e(r,t);if(o instanceof z)return o;var a=n(r,o[1]);return a instanceof z?a:[[o[0],a[0]],a[1]]}},_=function(e){return function(n,r){for(var t=[],o=0;o<e.length;o++){var a=e[o](n,r);if(a instanceof z)return a;t.push(a[0]),r=a[1]}return[t,r]}},ee=function(e){return function(n,r){for(var t=new z("alternates",-1),o=0;o<e.length;o++){var a=e[o](n,r);if(!(a instanceof z&&a.index===r))return a;a.index>t.index&&(t=a)}return t}},ne=function(e){return function(n,r){for(var t,o=[];!((t=e(n,r))instanceof z);)o.push(t[0]),r=t[1];return t.index===r?[o,r]:t}},re=function(e){return function(n,r){var t=[],o=e(n,r);if(o instanceof z)return o;for(t.push(o[0]),r=o[1];!((o=e(n,r))instanceof z);)t.push(o[0]),r=o[1];return o.index===r?[t,r]:o}},te=function(e){return function(n,r){var t=e(n,r);return t instanceof z&&(t.index=r),t}},oe=function(e){return function(n,r){var t=e(n,r);return t instanceof z&&t.index===r?[null,r]:t}},ae={comment:B("comment",_([X("#"),ne(Y(Z(X("\\"),W),V(["#"]))),X("#")])),separator:function(e,n){return ne(Y(ee([X(" "),X("\t"),X("\n")]),ae.comment))(e,n)},value:function(e,n){return ee([re(J($)),_([X('"'),ne(Y(Z(X("\\"),W),V(['"']))),X('"')]),_([X("'"),ne(Y(Z(X("\\"),W),V(["'"]))),X("'")]),_([X("`"),ne(Y(Z(X("\\"),W),V(["`"]))),X("`")]),_([X("("),ae.expression,X(")")]),_([X("["),ae.expression,X("]")]),_([X("{"),ae.expression,X("}")])])(e,n)},attributes:function(e,n){return B("attributes",ne(_([ae.value,oe(_([X("="),ae.value])),ae.separator])))(e,n)},text:B("text",re(Y(Z(X("\\"),W),V(["{","<"])))),fragment:function(e,n){return B("fragment",_([Q("<>"),ne(ee([te(ae.node),te(ae.nodeData),te(ae.nodeDataChildren),te(ae.fragment),ae.text,ae.interpolation])),Q("</>")]))(e,n)},interpolation:function(e,n){return B("interpolation",_([X("{"),ae.expression,X("}")]))(e,n)},node:function(e,n){return B("node",_([X("<"),ae.separator,ae.value,ae.separator,Q("*>")]))(e,n)},nodeData:function(e,n){return B("nodeData",_([X("<"),ae.separator,ae.value,ae.separator,Y(te(ae.attributes),ae.value),Q("/>")]))(e,n)},nodeDataChildren:function(e,n){return B("nodeDataChildren",_([X("<"),ae.separator,ae.value,ae.separator,ae.attributes,X(">"),ne(ee([te(ae.node),te(ae.nodeData),te(ae.nodeDataChildren),te(ae.fragment),ae.text,ae.interpolation])),Q("</"),ne(V([">"])),X(">")]))(e,n)},expression:function(e,n){return ne(ee([_([Q("//"),ne(V(["\n"]))]),_([Q("/*"),ne(V(["*/"])),Q("*/")]),te(_([X("/"),re(Y(Z(X("\\"),V(["\n"])),V(["/","\n"]))),X("/")])),ae.comment,ae.value,te(ae.node),te(ae.nodeData),te(ae.nodeDataChildren),te(ae.fragment),X("/"),X("<"),re(V(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(e,n)},main:function(e,n){return Z(ae.expression,G)(e,n)}};var ie=/^\s+$/,ue=/(^|[^\\])("|\n)/g;function se(e){return Array.isArray(e)&&3===e.length&&"{"===e[0]&&"}"===e[2]?e[1]:e}function fe(e){if(!Array.isArray(e)||"{"!==e[0]||"}"!==e[e.length-1])return!1;var n=e[1];if(!Array.isArray(n))return!1;for(var r=!1,t=!1,o=0;o<n.length;o++){var a=n[o];if("?"===a)t=!0;else if(Array.isArray(a))for(var i=0;i<a.length;i++){var u=a[i];"?"===u&&(t=!0),":"===u&&(r=!0)}else"string"==typeof a&&(-1!==a.indexOf("?")&&(t=!0),-1!==a.indexOf(":")&&(r=!0))}return r&&!t}function le(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",t=n,o=0;o<e.length;o++){var a=e[o];if("text"===a.type){var i=de(a);i.isWhitespace?r+=i.output:(r+=t+i.output,t=",")}else if("fragment"===a.type){var u=le(a.value[1],t);r+=u.output,t=u.separator}else"interpolation"===a.type?(r+=t+"...Moon.view.normalizeChildren("+de(a.value[1])+")",t=","):(r+=t+de(a),t=",")}return{output:r,separator:t}}function ce(e){var n=de(e);return-1===a.indexOf(n)?n:"Moon.view.components."+n}function de(e){var n,r=e.type;if("string"==typeof e)return e;if(Array.isArray(e)){for(var t="",o=0;o<e.length;o++)t+=de(e[o]);return t}if("comment"===r)return"/*"+de(e.value[1])+"*/";if("attributes"===r){for(var a=e.value,i=[],u=[],s=0;s<a.length;s++){var f=a[s],l=de(se(f[0])),c="className"===(n=l)?"class":"htmlFor"===n?"for":"onChange"===n?"oninput":"onDoubleClick"===n?"ondblclick":"dangerouslySetInnerHTML"===n?"innerHTML":n,d=f[1],v=Array.isArray(d)&&"="===d[0]?d[1]:d,p=v&&fe(v);if("..."===c.slice(0,3)){var m=c.slice(3)||de(se(v||[]));i.push(m)}else{var h=null===d?"true":p?"{"+de(v[1])+"}":de(se(v));u.push('"'+c+'":'+h)}}if(0===i.length)return{output:u.join(","),separator:0===u.length?"":",",isExpression:!1};var b=0===u.length?"{}":"{"+u.join(",")+"}";return{output:"Object.assign({}, "+i.join(",")+(u.length?", "+b:"")+")",separator:u.length||i.length?",":"",isExpression:!0}}if("text"===r){var y=de(e.value),g=ie.test(y)&&-1!==y.indexOf("\n");return{output:g?y:'Moon.view.components.text({data:"'+y.replace(ue,(function(e,n,r){return n+('"'===r?'\\"':"\\n\\\n")}))+'"})',isWhitespace:g}}if("interpolation"===r)return"Moon.view.components.text({data:"+de(e.value[1])+"})";if("node"===r){var w=e.value;return de(w[1])+ce(w[2])+de(w[3])}if("nodeData"===r){var x=e.value,M=x[4];if("attributes"===M.type){var k=function(e){if(!e||1!==e.length)return null;var n=e[0],r=n[0],t=n[1],o=de(r);return null!==t||"{"!==o[0]&&"("!==o[0]&&"["!==o[0]||"{..."===o.slice(0,4)?null:de(se(r))}(M.value);if(null!==k)return""+de(x[1])+ce(x[2])+de(x[3])+"("+k+")"}var E=de(M);return""+de(x[1])+ce(x[2])+de(x[3])+"("+("attributes"===M.type?E.isExpression?E.output:"{"+E.output+"}":E)+")"}if("nodeDataChildren"===r){var A,C=e.value,j=de(C[4]),O=C[6],T=O.length>0,D=T?le(O):{output:""};if(j.isExpression)A=T?"Object.assign({}, "+j.output+", {children:["+D.output+"]})":j.output;else{var S=T?(j.separator||"")+"children:["+D.output+"]":"";A="{"+j.output+S+"}"}return""+de(C[1])+ce(C[2])+de(C[3])+"("+A+")"}return"fragment"===r?"["+le(e.value[1]).output+"]":void 0}function ve(e){var n=function(e){return ae.main(e,0)}(e);if("ParseError"===n.constructor.name){var r="Invalid Moon view syntax.\n"+function(e,n,r){for(var t=e.length;t<=n;t++)e+=" ";for(var o=e.split("\n"),a=1,i=1,u=0;u<e.length;u++){var s=e[u];if(u===n){var f=a+":"+i;return"Parse error: expected "+r+" at "+a+":"+i+"\n"+f+" "+(o[a-1]||"")+"\n"+" ".repeat(f.length+1+i-1)+"^"}"\n"===s?(a+=1,i=1):i+=1}return"Parse error: expected "+r+" at end of input"}(e,n.index,n.expected)+"\n\nContext:\n"+function(e,n){for(var r=e.length;r<=n;r++)e+=" ";for(var t=e.split("\n"),o=1,a=1,i=0;i<e.length;i++){var s=e[i];if(i===n){var f=o-1,l=o+1,c=Math.max(Math.floor(Math.log10(f)+1),Math.floor(Math.log10(o)+1),Math.floor(Math.log10(l)+1))+2,d=t[f-1],v=t[o-1],p=t[l-1],m="";return void 0!==d&&(m+=u(f+"| ",c)+d+"\n"),m+=u(o+"| ",c)+v+"\n"+u("| ",c)+u("^",a),void 0!==p&&(m+="\n"+u(l+"| ",c)+p),m}"\n"===s?(o+=1,a=1):a+=1}}(e,n.index);throw i(r),new Error(r)}return de(n[0][0])}var pe=[];return document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll("script"),n=0;n<e.length;n++){var r=e[n];"text/moon"===r.type&&pe.push(r)}!function e(){if(0!==pe.length){var n=pe.shift(),r=n.src;if(0===r.length){var t=document.createElement("script");t.type="text/javascript",t.text=ve(n.text),n.parentNode.replaceChild(t,n),e()}else{var o=new XMLHttpRequest;o.responseType="text",o.onload=function(){if(0===o.status||200===o.status){var t=document.createElement("script");t.type="text/javascript",t.text=ve(o.response),n.parentNode.replaceChild(t,n)}else i("Invalid script HTTP response.\n\nAttempted to download script:\n\t"+r+"\n\nReceived error HTTP status code:\n\t"+o.status+"\n\nExpected OK HTTP status code 0 or 200.");e()},o.onerror=function(){i("Failed script HTTP request.\n\nAttempted to download script:\n\t"+r+"\n\nReceived error.\n\nExpected successful HTTP request."),e()},o.open("GET",r,!0),o.send(null)}}}()})),I}));