/**
 * Moon Web v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,(function(){"use strict";function e(e,t){this.name=e,this.data=t}var t=null,n=null;function r(e){t=e}function a(e){n=e}var o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];function i(e){console.error("[Moon] ERROR: "+e)}for(var u={node:function(t){return function(n){return new e(t,n)}}},s=function(){var t=o[c];u[t]=function(n){return new e(t,n)}},c=0;c<o.length;c++)s();var l={components:u,mount:function(t){a(t);for(var o=n.attributes,i={},u=0;u<o.length;u++){var s=o[u];i[s.name]=s.value}r(new e(n.tagName.toLowerCase(),i))}};var f={router:function(e){for(var t=e.route,n="/",r=e.routes,a=1;a<t.length;a++){var o=t[a];"/"===o?(r=(n in r?r[n]:r["/*"])[1],n="/"):n+=o}return(n in r?r[n]:r["/*"])[0](e)}},d={};function v(e){var t=e.name;if("text"===t)return document.createTextNode(e.data.data);var n=document.createElement(t),r=e.data;for(var a in r){var o=r[a];if("o"===a[0]&&"n"===a[1])n[a.toLowerCase()]=o;else switch(a){case"attributes":for(var i in o)n.setAttribute(i,o[i]);break;case"style":var u=n.style;for(var s in o)u[s]=o[s];break;case"focus":o&&n.focus();break;case"class":n.className=o;break;case"for":n.htmlFor=o;break;case"children":for(var c=n.MoonChildren=[],l=0;l<o.length;l++){var f=v(o[l]);c.push(f),n.appendChild(f)}break;default:n[a]=o}}return n}Node.prototype.MoonChildren=null;var p={set:function(e){if(t.name===e.name)!function e(t,n,r){var a=t.data,o=r.data;for(var i in o){var u=a[i],s=o[i];if(u!==s)if("o"===i[0]&&"n"===i[1])n[i.toLowerCase()]=s;else switch(i){case"attributes":if(void 0===u)for(var c in s)n.setAttribute(c,s[c]);else{for(var l in s){var f=s[l];u[l]!==f&&n.setAttribute(l,f)}for(var p in u)p in s||n.removeAttribute(p)}break;case"style":var m=n.style;if(void 0===u)for(var h in s)m[h]=s[h];else{for(var b in s){var g=s[b];u[b]!==g&&(m[b]=g)}for(var x in u)x in s||(m[x]="")}break;case"focus":s?n.focus():n.blur();break;case"class":n.className=s;break;case"for":n.htmlFor=s;break;case"children":var y=s.length;if(void 0===u)for(var w=n.MoonChildren=[],C=0;C<y;C++){var k=v(s[C]);w.push(k),n.appendChild(k)}else{var T=u.length;if(T===y)for(var M=n.MoonChildren,E=0;E<T;E++){var A=u[E],O=s[E];if(A!==O)if(A.name===O.name)e(A,M[E],O);else{var D=v(O);n.replaceChild(D,M[E]),M[E]=D}}else if(T>y){for(var N=n.MoonChildren,L=0;L<y;L++){var P=u[L],j=s[L];if(P!==j)if(P.name===j.name)e(P,N[L],j);else{var q=v(j);n.replaceChild(q,N[L]),N[L]=q}}for(var H=y;H<T;H++)n.removeChild(N.pop())}else{for(var R=n.MoonChildren,S=0;S<T;S++){var F=u[S],$=s[S];if(F!==$)if(F.name===$.name)e(F,R[S],$);else{var G=v($);n.replaceChild(G,R[S]),R[S]=G}}for(var W=T;W<y;W++){var X=v(s[W]);R.push(X),n.appendChild(X)}}}break;default:n[i]=s}}for(var I in a)if(!(I in o))if("o"===I[0]&&"n"===I[1])n[I.toLowerCase()]=null;else switch(I){case"attributes":var J=a.attributes;for(var K in J)n.removeAttribute(K);break;case"focus":n.blur();break;case"class":n.className="";break;case"for":n.htmlFor="";break;case"children":for(var z=a.children.length,B=n.MoonChildren,Q=0;Q<z;Q++)n.removeChild(B.pop());break;default:var U=t.name;n[I]=(U in d?d[U]:d[U]="text"===U?document.createTextNode(""):document.createElement(U))[I]}}(t,n,e);else{var o=v(e);n.parentNode.replaceChild(o,n),a(o)}r(e)}},m={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},h={get:function(){return localStorage},set:function(e){for(var t in e){var n=e[t];localStorage[t]!==n&&(localStorage[t]=n)}for(var r in localStorage)r in e||delete localStorage[r]}},b=/^([^:]+):\s*([^]*?)\s*$/gm,g={set:function(e){var t=new XMLHttpRequest;if(t.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(t.onload=function(){for(var n,r={},a=t.getAllResponseHeaders();null!==(n=b.exec(a));)r[n[1]]=n[2];e.onLoad({status:t.status,headers:r,body:t.response})}),"onError"in e&&(t.onerror=e.onError),t.open("method"in e?e.method:"GET",e.url),"headers"in e){var n=e.headers;for(var r in n)t.setRequestHeader(r,n[r])}t.send("body"in e?e.body:null)}},x={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},y={data:{}};Object.defineProperty(y,"view",p),Object.defineProperty(y,"time",m),Object.defineProperty(y,"storage",h),Object.defineProperty(y,"http",g),Object.defineProperty(y,"route",x);var w={m:y,route:f,version:"1.0.0-beta.7",view:l},C=/[$\w.]/;function k(e,t){this.expected=e,this.index=t}var T=function(e,t){return function(n,r){var a=t(n,r);return a instanceof k?a:[{type:e,value:a[0]},a[1]]}},M=function(e,t){return t===e.length?["EOF",t]:new k("EOF",t)},E=function(e,t){return t<e.length?[e[t],t+1]:new k("any",t)},A=function(e){return function(t,n){var r=t[n];return r===e?[r,n+1]:new k('"'+e+'"',n)}},O=function(e){return function(t,n){var r=t[n];return void 0!==r&&e.test(r)?[r,n+1]:new k(e.toString(),n)}},D=function(e){return function(t,n){var r=n+e.length;return t.slice(n,r)===e?[e,r]:new k('"'+e+'"',n)}},N=function(e){return function(t,n){if(n<t.length){for(var r=0;r<e.length;r++){var a=e[r];if(t.slice(n,n+a.length)===a)return new k('not "'+a+'"',n)}return[t[n],n+1]}return new k("not "+e.map(JSON.stringify).join(", "),n)}},L=function(e,t){return function(n,r){var a=e(n,r);return a instanceof k&&a.index===r?t(n,r):a}},P=function(e,t){return function(n,r){var a=e(n,r);if(a instanceof k)return a;var o=t(n,a[1]);return o instanceof k?o:[[a[0],o[0]],o[1]]}},j=function(e){return function(t,n){for(var r=[],a=0;a<e.length;a++){var o=e[a](t,n);if(o instanceof k)return o;r.push(o[0]),n=o[1]}return[r,n]}},q=function(e){return function(t,n){for(var r=new k("alternates",-1),a=0;a<e.length;a++){var o=e[a](t,n);if(!(o instanceof k&&o.index===n))return o;o.index>r.index&&(r=o)}return r}},H=function(e){return function(t,n){for(var r,a=[];!((r=e(t,n))instanceof k);)a.push(r[0]),n=r[1];return r.index===n?[a,n]:r}},R=function(e){return function(t,n){var r=[],a=e(t,n);if(a instanceof k)return a;for(r.push(a[0]),n=a[1];!((a=e(t,n))instanceof k);)r.push(a[0]),n=a[1];return a.index===n?[r,n]:a}},S=function(e){return function(t,n){var r=e(t,n);return r instanceof k&&(r.index=n),r}},F=function(e){return function(t,n){var r=e(t,n);return r instanceof k&&r.index===n?[null,n]:r}},$={comment:T("comment",j([A("#"),H(L(P(A("\\"),E),N(["#"]))),A("#")])),separator:function(e,t){return H(L(q([A(" "),A("\t"),A("\n")]),$.comment))(e,t)},value:function(e,t){return q([R(O(C)),j([A('"'),H(L(P(A("\\"),E),N(['"']))),A('"')]),j([A("'"),H(L(P(A("\\"),E),N(["'"]))),A("'")]),j([A("`"),H(L(P(A("\\"),E),N(["`"]))),A("`")]),j([A("("),$.expression,A(")")]),j([A("["),$.expression,A("]")]),j([A("{"),$.expression,A("}")])])(e,t)},attributes:function(e,t){return T("attributes",H(j([$.value,F(j([A("="),$.value])),$.separator])))(e,t)},text:T("text",R(L(P(A("\\"),E),N(["{","<"])))),interpolation:function(e,t){return T("interpolation",j([A("{"),$.expression,A("}")]))(e,t)},node:function(e,t){return T("node",j([A("<"),$.separator,$.value,$.separator,D("*>")]))(e,t)},nodeData:function(e,t){return T("nodeData",j([A("<"),$.separator,$.value,$.separator,L(S($.attributes),$.value),D("/>")]))(e,t)},nodeDataChildren:function(e,t){return T("nodeDataChildren",j([A("<"),$.separator,$.value,$.separator,$.attributes,A(">"),H(q([S($.node),S($.nodeData),S($.nodeDataChildren),$.text,$.interpolation])),D("</"),H(N([">"])),A(">")]))(e,t)},expression:function(e,t){return H(q([j([D("//"),H(N(["\n"]))]),j([D("/*"),H(N(["*/"])),D("*/")]),S(j([A("/"),R(L(P(A("\\"),N(["\n"])),N(["/","\n"]))),A("/")])),$.comment,$.value,S($.node),S($.nodeData),S($.nodeDataChildren),A("/"),A("<"),R(N(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(e,t)},main:function(e,t){return P($.expression,M)(e,t)}};var G=/^\s+$/,W=/(^|[^\\])("|\n)/g;function X(e){return Array.isArray(e)&&3===e.length&&"{"===e[0]&&"}"===e[2]?e[1]:e}function I(e){var t=J(e);return-1===o.indexOf(t)?t:"Moon.view.components."+t}function J(e){var t,n=e.type;if("string"==typeof e)return e;if(Array.isArray(e)){for(var r="",a=0;a<e.length;a++)r+=J(e[a]);return r}if("comment"===n)return"/*"+J(e.value[1])+"*/";if("attributes"===n){for(var o=e.value,i="",u="",s=0;s<o.length;s++){var c=o[s],l="className"===(t=J(X(c[0])))?"class":"htmlFor"===t?"for":t,f=c[1];if("..."===l.slice(0,3))i+=u+"..."+(l.slice(3)||J(X(f&&f[1]||[])))+J(c[2]);else i+=u+'"'+l+'":'+(null===f?"true":J(X(f[1])))+J(c[2]);u=","}return{output:i,separator:u}}if("text"===n){var d=J(e.value),v=G.test(d)&&-1!==d.indexOf("\n");return{output:v?d:'Moon.view.components.text({data:"'+d.replace(W,(function(e,t,n){return t+('"'===n?'\\"':"\\n\\\n")}))+'"})',isWhitespace:v}}if("interpolation"===n)return"Moon.view.components.text({data:"+J(e.value[1])+"})";if("node"===n){var p=e.value;return J(p[1])+I(p[2])+J(p[3])}if("nodeData"===n){var m=e.value,h=m[4],b=J(h);return""+J(m[1])+I(m[2])+J(m[3])+"("+("attributes"===h.type?"{"+b.output+"}":b)+")"}if("nodeDataChildren"===n){var g,x=e.value,y=J(x[4]),w=x[6],C=w.length;if(0===C)g="";else{var k="";g=y.separator+"children:[";for(var T=0;T<C;T++){var M=w[T],E=J(M);"text"===M.type?E.isWhitespace?g+=E.output:(g+=k+E.output,k=","):(g+=k+E,k=",")}g+="]"}return""+J(x[1])+I(x[2])+J(x[3])+"({"+y.output+g+"})"}}function K(e){var t=function(e){return $.main(e,0)}(e);return J(t[0][0])}var z=[];return document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll("script"),t=0;t<e.length;t++){var n=e[t];"text/moon"===n.type&&z.push(n)}!function e(){if(0!==z.length){var t=z.shift(),n=t.src;if(0===n.length){var r=document.createElement("script");r.type="text/javascript",r.text=K(t.text),t.parentNode.replaceChild(r,t),e()}else{var a=new XMLHttpRequest;a.responseType="text",a.onload=function(){if(0===a.status||200===a.status){var r=document.createElement("script");r.type="text/javascript",r.text=K(a.response),t.parentNode.replaceChild(r,t)}else i("Invalid script HTTP response.\n\nAttempted to download script:\n\t"+n+"\n\nReceived error HTTP status code:\n\t"+a.status+"\n\nExpected OK HTTP status code 0 or 200.");e()},a.onerror=function(){i("Failed script HTTP request.\n\nAttempted to download script:\n\t"+n+"\n\nReceived error.\n\nExpected successful HTTP request."),e()},a.open("GET",n,!0),a.send(null)}}}()})),w}));