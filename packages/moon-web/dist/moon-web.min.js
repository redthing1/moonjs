/**
 * Moon Web v1.0.0-beta.7
 * Copyright 2016-2020 kbrsh
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,n){"undefined"==typeof module?e.Moon=n():module.exports=n()}(this,(function(){"use strict";function e(e,n){this.name=e,this.data=n}var n=null,r=null;function t(e){n=e}function o(e){r=e}var a=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];function i(e){console.error("[Moon] ERROR: "+e)}function u(e,n){for(var r=n-e.length,t=0;t<r;t++)e=" "+e;return e}for(var s={node:function(n){return function(r){return new e(n,r)}}},l=function(){var n=a[f];s[n]=function(r){return new e(n,r)}},f=0;f<a.length;f++)l();var c={};function d(e,n){throw new Error(n)}function v(e,n){if(x(e,n&&n.nodeName?n.nodeName.toLowerCase():"node"),e)if("function"==typeof e)e(n);else{if("object"!=typeof e)throw new Error("[Moon] Unsupported ref type; refs must be functions or ref objects.");e.current=n}}function p(e){if(!e||"object"!=typeof e)return e;for(var n=Object.keys(e),r=0;r<n.length;r++){var t=n[r];if(null!=t&&-1!==t.indexOf("-")){for(var o=t.split("-"),a=o[0],i=1;i<o.length;i++){var u=o[i];u.length>0&&(a+=u[0].toUpperCase()+u.slice(1))}a in e||(e[a]=e[t]),delete e[t]}}return e}function h(e,n){return!(!e||"object"!=typeof e)&&("key"!==n&&"ref"!==n&&("attributes"!==n&&"style"!==n&&"innerHTML"!==n&&"focus"!==n&&"class"!==n&&"for"!==n&&"children"!==n&&(("o"!==n[0]||"n"!==n[1])&&(0!==n.indexOf("data-")&&0!==n.indexOf("aria-")&&!(n in e)))))}function m(e){switch(e){case"onChange":return"oninput";case"onDoubleClick":return"ondblclick";case"onFocus":return"onfocus";case"onBlur":return"onblur";case"onSubmit":return"onsubmit";case"onMouseEnter":return"onmouseenter";case"onMouseLeave":return"onmouseleave";case"onMouseOver":return"onmouseover";case"onMouseOut":return"onmouseout";case"onKeyDown":return"onkeydown";case"onKeyUp":return"onkeyup";case"onKeyPress":return"onkeypress";case"onInput":return"oninput";default:return e.toLowerCase()}}function b(e,n){var r=null===e?"null":Array.isArray(e)?"array":typeof e;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("[Moon] Style on <"+n+"> must be a plain object, received "+r+".")}function g(e,n,r){if("function"!=typeof e)throw new Error("[Moon] Event handler "+n+" on <"+r+"> must be a function.")}function y(e,n){if(void 0!==e){var r=typeof e;if(null===e||"string"!==r&&"number"!==r||""===e)throw new Error("[Moon] Key on <"+n+"> must be a string or number, received "+(null===e?"null":r)+".")}}function x(e,n){if(void 0!==e&&"function"!=typeof e&&(!e||"object"!=typeof e))throw new Error("[Moon] Ref on <"+n+"> must be a function or ref object.")}function w(e,n){if(!Array.isArray(e))throw new Error("[Moon] Children on <"+n+"> must be an array.");for(var r=0;r<e.length;r++){var t=e[r];if(!t||"object"!=typeof t||!t.name)throw new Error("[Moon] Child "+r+" of <"+n+"> is not a valid view node.")}}function k(e){if(!Array.isArray(e)||0===e.length)return"";for(var n="",r=0;r<e.length;r++){var t=e[r];n+=""+(t&&t.name?t.name:"unknown")+(t&&t.data&&void 0!==t.data.key?"#keyed":"#unkeyed")+";"}return n}function M(e,n){var r=e&&e.data?e.data.key:void 0,t=n&&n.data?n.data.key:void 0;if(void 0!==r&&void 0!==t&&r===t){var o=e.data&&e.data.children,a=n.data&&n.data.children;if(o&&a)if(k(o)!==k(a))throw new Error('[Moon] Key "'+t+'" on <'+n.name+"> was reused but its child shape changed; change the key when swapping layouts to avoid DOM corruption.")}}function C(e){var n=e.name;if("text"===n)return document.createTextNode(e.data.data);var r=document.createElement(n);r.MoonChildren=r.MoonChildren||[];var t=e.data;for(var o in t){var a=t[o];if("o"===o[0]&&"n"===o[1])g(a,o,n),r[m(o)]=a;else switch(o){case"attributes":for(var i in a)r.setAttribute(i,a[i]);break;case"style":b(a,n);var u=r.style;for(var s in p(a),a)u[s]=a[s];break;case"innerHTML":r.innerHTML=a;break;case"focus":a&&r.focus();break;case"class":r.className=a;break;case"for":r.htmlFor=a;break;case"ref":v(a,r);break;case"children":w(a,n);for(var l=r.MoonChildren=[],f=0;f<a.length;f++){var c=C(a[f]);l.push(c),r.appendChild(c)}break;default:h(r,o)&&d(0,'[Moon] Unknown DOM prop "'+o+'" on <'+n+">; it will be set as a property."),r[o]=a}}return r}Node.prototype.MoonChildren=null;var A={set:function(e){if(n.name===e.name)!function e(n,r,t){var o=n.data,a=t.data;for(var i in a){var u=o[i],s=a[i];if(u!==s)if("o"===i[0]&&"n"===i[1])g(s,i,n.name),r[m(i)]=s;else switch(i){case"attributes":if(void 0===u)for(var l in s)r.setAttribute(l,s[l]);else{for(var f in s){var k=s[f];u[f]!==k&&r.setAttribute(f,k)}for(var A in u)A in s||r.removeAttribute(A)}break;case"style":var E=r.style;if(b(s,n.name),p(s),u&&p(u),void 0===u)for(var O in s)E[O]=s[O];else{for(var j in s){var T=s[j];u[j]!==T&&(E[j]=T)}for(var D in u)D in s||(E[D]="")}break;case"focus":s?r.focus():r.blur();break;case"class":r.className=s;break;case"for":r.htmlFor=s;break;case"ref":x(s,n.name),v(s,r);break;case"children":var S=r.MoonChildren||[],L=s.length;w(s,n.name),void 0!==u&&w(u,n.name);for(var P=0;P<L;P++){var H=s[P];y(H&&H.data&&H.data.key,H&&H.name?H.name:"node"),x(H&&H.data&&H.data.ref,H&&H.name?H.name:"node")}void 0!==u&&M(n,t);for(var N=[],q=!0,R=!1,F=Object.create(null),K=!1,U=0;U<L;U++){var I=s[U].data&&s[U].data.key;y(I,s[U].name),void 0===I?q=!1:(R=!0,F[I]?K=!0:F[I]=!0),N.push(I)}if(R&&!q&&d(0,"[Moon] Some children have a key and some do not; keyed children must be consistently keyed."),K&&d(0,"[Moon] Duplicate keys detected among siblings; keys must be unique."),void 0===u){for(var $=0;$<L;$++){var z=C(s[$]);S.push(z),r.appendChild(z)}r.MoonChildren=S}else if(q){for(var B={},G=0;G<u.length;G++){var W=u[G].data&&u[G].data.key;if(y(W,u[G].name),void 0!==W){if(B[W])throw new Error("[Moon] Duplicate keys detected among existing siblings under <"+n.name+">; keys must be unique.");B[W]={node:u[G],el:S[G],used:!1}}}for(var X=[],J=0;J<L;J++){var Q=s[J],V=B[N[J]];if(V)e(V.node,V.el,Q),V.used=!0,X.push(V.el);else{var Y=C(Q);X.push(Y)}}for(var Z in B)B[Z].used||r.removeChild(B[Z].el);for(var _=r.firstChild,ee=0;ee<L;ee++){var ne=X[ee];_===ne?_=_.nextSibling:(r.insertBefore(ne,_),_=ne.nextSibling)}for(;_;){var re=_.nextSibling;r.removeChild(_),_=re}r.MoonChildren=X}else{var te=u.length;if(te===L)for(var oe=0;oe<te;oe++){var ae=u[oe],ie=s[oe];if(ae!==ie)if(ae.name===ie.name)e(ae,S[oe],ie);else{var ue=C(ie);r.replaceChild(ue,S[oe]),S[oe]=ue}}else if(te>L){for(var se=0;se<L;se++){var le=u[se],fe=s[se];if(le!==fe)if(le.name===fe.name)e(le,S[se],fe);else{var ce=C(fe);r.replaceChild(ce,S[se]),S[se]=ce}}for(var de=L;de<te;de++)r.removeChild(S.pop())}else{for(var ve=0;ve<te;ve++){var pe=u[ve],he=s[ve];if(pe!==he)if(pe.name===he.name)e(pe,S[ve],he);else{var me=C(he);r.replaceChild(me,S[ve]),S[ve]=me}}for(var be=te;be<L;be++){var ge=C(s[be]);S.push(ge),r.appendChild(ge)}}}break;default:h(r,i)&&d(0,'[Moon] Unknown DOM prop "'+i+'" on <'+n.name+">; use a valid DOM prop or data-/aria-."),r[i]=s}}for(var ye in o)if(!(ye in a))if("o"===ye[0]&&"n"===ye[1])r[ye.toLowerCase()]=null;else switch(ye){case"attributes":var xe=o.attributes;for(var we in xe)r.removeAttribute(we);break;case"focus":r.blur();break;case"class":r.className="";break;case"for":r.htmlFor="";break;case"children":for(var ke=o.children.length,Me=r.MoonChildren||[],Ce=0;Ce<ke;Ce++)r.removeChild(Me.pop());break;case"ref":v(o.ref,null);break;default:var Ae=n.name;r[ye]=(Ae in c?c[Ae]:c[Ae]="text"===Ae?document.createTextNode(""):document.createElement(Ae))[ye]}}(n,r,e);else{var a=C(e);r.parentNode.replaceChild(a,r),o(a)}t(e)}},E={components:s,mount:function(n){o(n);for(var a=r.attributes,i={},u=0;u<a.length;u++){var s=a[u];i[s.name]=s.value}t(new e(r.tagName.toLowerCase(),i))},normalizeChildren:function e(n){if(null==n||"boolean"==typeof n)return[];if(Array.isArray(n)){for(var r=[],t=0;t<n.length;t++)for(var o=e(n[t]),a=0;a<o.length;a++)r.push(o[a]);return r}var i=typeof n;return"string"===i||"number"===i||"bigint"===i?[s.text({data:String(n)})]:n&&void 0!==n.name?[n]:[s.text({data:String(n)})]},cls:function e(){for(var n="",r=0;r<arguments.length;r++){var t=arguments[r];if(t){var o=typeof t;if("string"===o||"number"===o)n+=(n?" ":"")+t;else if(Array.isArray(t)){var a=e.apply(null,t);a&&(n+=(n?" ":"")+a)}else if("object"===o)for(var i in t)t[i]&&(n+=(n?" ":"")+i)}}return n},mergeProps:function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];if(r&&"object"==typeof r)for(var t in r)e[t]=r[t]}return e}};var O={router:function(e){for(var n=e.route,r="/",t=e.routes,o=1;o<n.length;o++){var a=n[o];"/"===a?(t=(r in t?t[r]:t["/*"])[1],r="/"):r+=a}return(r in t?t[r]:t["/*"])[0](e)}},j={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},T={get:function(){return localStorage},set:function(e){for(var n in e){var r=e[n];localStorage[n]!==r&&(localStorage[n]=r)}for(var t in localStorage)t in e||delete localStorage[t]}},D=/^([^:]+):\s*([^]*?)\s*$/gm,S={set:function(e){var n=new XMLHttpRequest;if(n.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(n.onload=function(){for(var r,t={},o=n.getAllResponseHeaders();null!==(r=D.exec(o));)t[r[1]]=r[2];e.onLoad({status:n.status,headers:t,body:n.response})}),"onError"in e&&(n.onerror=e.onError),n.open("method"in e?e.method:"GET",e.url),"headers"in e){var r=e.headers;for(var t in r)n.setRequestHeader(t,r[t])}n.send("body"in e?e.body:null)}},L={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},P={data:{}};Object.defineProperty(P,"view",A),Object.defineProperty(P,"time",j),Object.defineProperty(P,"storage",T),Object.defineProperty(P,"http",S),Object.defineProperty(P,"route",L);var H={m:P,route:O,version:"1.0.0-beta.7",view:E},N=/[-$\w.]/;function q(e,n){this.expected=e,this.index=n}var R=function(e,n){return function(r,t){var o=n(r,t);return o instanceof q?o:[{type:e,value:o[0]},o[1]]}},F=function(e,n){return n===e.length?["EOF",n]:new q("EOF",n)},K=function(e,n){return n<e.length?[e[n],n+1]:new q("any",n)},U=function(e){return function(n,r){var t=n[r];return t===e?[t,r+1]:new q('"'+e+'"',r)}},I=function(e){return function(n,r){var t=n[r];return void 0!==t&&e.test(t)?[t,r+1]:new q(e.toString(),r)}},$=function(e){return function(n,r){var t=r+e.length;return n.slice(r,t)===e?[e,t]:new q('"'+e+'"',r)}},z=function(e){return function(n,r){if(r<n.length){for(var t=0;t<e.length;t++){var o=e[t];if(n.slice(r,r+o.length)===o)return new q('not "'+o+'"',r)}return[n[r],r+1]}return new q("not "+e.map(JSON.stringify).join(", "),r)}},B=function(e,n){return function(r,t){var o=e(r,t);return o instanceof q&&o.index===t?n(r,t):o}},G=function(e,n){return function(r,t){var o=e(r,t);if(o instanceof q)return o;var a=n(r,o[1]);return a instanceof q?a:[[o[0],a[0]],a[1]]}},W=function(e){return function(n,r){for(var t=[],o=0;o<e.length;o++){var a=e[o](n,r);if(a instanceof q)return a;t.push(a[0]),r=a[1]}return[t,r]}},X=function(e){return function(n,r){for(var t=new q("alternates",-1),o=0;o<e.length;o++){var a=e[o](n,r);if(!(a instanceof q&&a.index===r))return a;a.index>t.index&&(t=a)}return t}},J=function(e){return function(n,r){for(var t,o=[];!((t=e(n,r))instanceof q);)o.push(t[0]),r=t[1];return t.index===r?[o,r]:t}},Q=function(e){return function(n,r){var t=[],o=e(n,r);if(o instanceof q)return o;for(t.push(o[0]),r=o[1];!((o=e(n,r))instanceof q);)t.push(o[0]),r=o[1];return o.index===r?[t,r]:o}},V=function(e){return function(n,r){var t=e(n,r);return t instanceof q&&(t.index=r),t}},Y=function(e){return function(n,r){var t=e(n,r);return t instanceof q&&t.index===r?[null,r]:t}},Z={comment:R("comment",W([U("#"),J(B(G(U("\\"),K),z(["#"]))),U("#")])),separator:function(e,n){return J(B(X([U(" "),U("\t"),U("\n")]),Z.comment))(e,n)},value:function(e,n){return X([Q(I(N)),W([U('"'),J(B(G(U("\\"),K),z(['"']))),U('"')]),W([U("'"),J(B(G(U("\\"),K),z(["'"]))),U("'")]),W([U("`"),J(B(G(U("\\"),K),z(["`"]))),U("`")]),W([U("("),Z.expression,U(")")]),W([U("["),Z.expression,U("]")]),W([U("{"),Z.expression,U("}")])])(e,n)},attributes:function(e,n){return R("attributes",J(W([Z.value,Y(W([U("="),Z.value])),Z.separator])))(e,n)},text:R("text",Q(B(G(U("\\"),K),z(["{","<"])))),fragment:function(e,n){return R("fragment",W([$("<>"),J(X([V(Z.node),V(Z.nodeData),V(Z.nodeDataChildren),V(Z.fragment),Z.text,Z.interpolation])),$("</>")]))(e,n)},interpolation:function(e,n){return R("interpolation",W([U("{"),Z.expression,U("}")]))(e,n)},node:function(e,n){return R("node",W([U("<"),Z.separator,Z.value,Z.separator,$("*>")]))(e,n)},nodeData:function(e,n){return R("nodeData",W([U("<"),Z.separator,Z.value,Z.separator,B(V(Z.attributes),Z.value),$("/>")]))(e,n)},nodeDataChildren:function(e,n){return R("nodeDataChildren",W([U("<"),Z.separator,Z.value,Z.separator,Z.attributes,U(">"),J(X([V(Z.node),V(Z.nodeData),V(Z.nodeDataChildren),V(Z.fragment),Z.text,Z.interpolation])),$("</"),J(z([">"])),U(">")]))(e,n)},expression:function(e,n){return J(X([W([$("//"),J(z(["\n"]))]),W([$("/*"),J(z(["*/"])),$("*/")]),V(W([U("/"),Q(B(G(U("\\"),z(["\n"])),z(["/","\n"]))),U("/")])),Z.comment,Z.value,V(Z.node),V(Z.nodeData),V(Z.nodeDataChildren),V(Z.fragment),U("/"),U("<"),Q(z(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(e,n)},main:function(e,n){return G(Z.expression,F)(e,n)}};var _=/^\s+$/,ee=/(^|[^\\])("|\n)/g;function ne(e){return Array.isArray(e)&&3===e.length&&"{"===e[0]&&"}"===e[2]?e[1]:e}function re(e){if(!Array.isArray(e)||"{"!==e[0]||"}"!==e[e.length-1])return!1;var n=e[1];if(!Array.isArray(n))return!1;for(var r=!1,t=!1,o=0;o<n.length;o++){var a=n[o];if("?"===a)t=!0;else if(Array.isArray(a))for(var i=0;i<a.length;i++){var u=a[i];"?"===u&&(t=!0),":"===u&&(r=!0)}else"string"==typeof a&&(-1!==a.indexOf("?")&&(t=!0),-1!==a.indexOf(":")&&(r=!0))}return r&&!t}function te(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",t=n,o=0;o<e.length;o++){var a=e[o];if("text"===a.type){var i=ae(a);i.isWhitespace?r+=i.output:(r+=t+i.output,t=",")}else if("fragment"===a.type){var u=te(a.value[1],t);r+=u.output,t=u.separator}else"interpolation"===a.type?(r+=t+"...Moon.view.normalizeChildren("+ae(a.value[1])+")",t=","):(r+=t+ae(a),t=",")}return{output:r,separator:t}}function oe(e){var n=ae(e);return-1===a.indexOf(n)?n:"Moon.view.components."+n}function ae(e){var n,r=e.type;if("string"==typeof e)return e;if(Array.isArray(e)){for(var t="",o=0;o<e.length;o++)t+=ae(e[o]);return t}if("comment"===r)return"/*"+ae(e.value[1])+"*/";if("attributes"===r){for(var a=e.value,i=[],u=[],s=0;s<a.length;s++){var l=a[s],f=ae(ne(l[0])),c="className"===(n=f)?"class":"htmlFor"===n?"for":"onChange"===n?"oninput":"onDoubleClick"===n?"ondblclick":"dangerouslySetInnerHTML"===n?"innerHTML":n,d=l[1],v=Array.isArray(d)&&"="===d[0]?d[1]:d,p=v&&re(v);if("..."===c.slice(0,3)){var h=c.slice(3)||ae(ne(v||[]));i.push(h)}else{var m=null===d?"true":p?"{"+ae(v[1])+"}":ae(ne(v));u.push('"'+c+'":'+m)}}if(0===i.length)return{output:u.join(","),separator:0===u.length?"":",",isExpression:!1};var b=0===u.length?"{}":"{"+u.join(",")+"}";return{output:"Object.assign({}, "+i.join(",")+(u.length?", "+b:"")+")",separator:u.length||i.length?",":"",isExpression:!0}}if("text"===r){var g=ae(e.value),y=_.test(g)&&-1!==g.indexOf("\n");return{output:y?g:'Moon.view.components.text({data:"'+g.replace(ee,(function(e,n,r){return n+('"'===r?'\\"':"\\n\\\n")}))+'"})',isWhitespace:y}}if("interpolation"===r)return"Moon.view.components.text({data:"+ae(e.value[1])+"})";if("node"===r){var x=e.value;return ae(x[1])+oe(x[2])+ae(x[3])}if("nodeData"===r){var w=e.value,k=w[4];if("attributes"===k.type){var M=function(e){if(!e||1!==e.length)return null;var n=e[0],r=n[0],t=n[1],o=ae(r);return null!==t||"{"!==o[0]&&"("!==o[0]&&"["!==o[0]||"{..."===o.slice(0,4)?null:ae(ne(r))}(k.value);if(null!==M)return""+ae(w[1])+oe(w[2])+ae(w[3])+"("+M+")"}var C=ae(k);return""+ae(w[1])+oe(w[2])+ae(w[3])+"("+("attributes"===k.type?C.isExpression?C.output:"{"+C.output+"}":C)+")"}if("nodeDataChildren"===r){var A,E=e.value,O=ae(E[4]),j=E[6],T=j.length>0,D=T?te(j):{output:""};if(O.isExpression)A=T?"Object.assign({}, "+O.output+", {children:["+D.output+"]})":O.output;else{var S=T?(O.separator||"")+"children:["+D.output+"]":"";A="{"+O.output+S+"}"}return""+ae(E[1])+oe(E[2])+ae(E[3])+"("+A+")"}return"fragment"===r?"["+te(e.value[1]).output+"]":void 0}function ie(e){var n=function(e){return Z.main(e,0)}(e);if("ParseError"===n.constructor.name){var r="Invalid Moon view syntax.\n"+function(e,n,r){for(var t=e.length;t<=n;t++)e+=" ";for(var o=e.split("\n"),a=1,i=1,u=0;u<e.length;u++){var s=e[u];if(u===n){var l=a+":"+i;return"Parse error: expected "+r+" at "+a+":"+i+"\n"+l+" "+(o[a-1]||"")+"\n"+" ".repeat(l.length+1+i-1)+"^"}"\n"===s?(a+=1,i=1):i+=1}return"Parse error: expected "+r+" at end of input"}(e,n.index,n.expected)+"\n\nContext:\n"+function(e,n){for(var r=e.length;r<=n;r++)e+=" ";for(var t=e.split("\n"),o=1,a=1,i=0;i<e.length;i++){var s=e[i];if(i===n){var l=o-1,f=o+1,c=Math.max(Math.floor(Math.log10(l)+1),Math.floor(Math.log10(o)+1),Math.floor(Math.log10(f)+1))+2,d=t[l-1],v=t[o-1],p=t[f-1],h="";return void 0!==d&&(h+=u(l+"| ",c)+d+"\n"),h+=u(o+"| ",c)+v+"\n"+u("| ",c)+u("^",a),void 0!==p&&(h+="\n"+u(f+"| ",c)+p),h}"\n"===s?(o+=1,a=1):a+=1}}(e,n.index);throw i(r),new Error(r)}return ae(n[0][0])}var ue=[];return document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll("script"),n=0;n<e.length;n++){var r=e[n];"text/moon"===r.type&&ue.push(r)}!function e(){if(0!==ue.length){var n=ue.shift(),r=n.src;if(0===r.length){var t=document.createElement("script");t.type="text/javascript",t.text=ie(n.text),n.parentNode.replaceChild(t,n),e()}else{var o=new XMLHttpRequest;o.responseType="text",o.onload=function(){if(0===o.status||200===o.status){var t=document.createElement("script");t.type="text/javascript",t.text=ie(o.response),n.parentNode.replaceChild(t,n)}else i("Invalid script HTTP response.\n\nAttempted to download script:\n\t"+r+"\n\nReceived error HTTP status code:\n\t"+o.status+"\n\nExpected OK HTTP status code 0 or 200.");e()},o.onerror=function(){i("Failed script HTTP request.\n\nAttempted to download script:\n\t"+r+"\n\nReceived error.\n\nExpected successful HTTP request."),e()},o.open("GET",r,!0),o.send(null)}}}()})),H}));