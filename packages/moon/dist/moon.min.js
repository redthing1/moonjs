/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,t=null;function a(e){r=e}function n(e){t=e}for(var o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],i={node:function(r){return function(t){return new e(r,t)}}},s=function(){var r=o[l];i[r]=function(t){return new e(r,t)}},l=0;l<o.length;l++)s();var u={components:i,mount:function(r){n(r);for(var o=t.attributes,i={},s=0;s<o.length;s++){var l=o[s];i[l.name]=l.value}a(new e(t.tagName.toLowerCase(),i))},normalizeChildren:function e(r){if(null==r||"boolean"==typeof r)return[];if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++)for(var n=e(r[a]),o=0;o<n.length;o++)t.push(n[o]);return t}var s=typeof r;return"string"===s||"number"===s||"bigint"===s?[i.text({data:String(r)})]:r&&void 0!==r.name?[r]:[i.text({data:String(r)})]}};var d={router:function(e){for(var r=e.route,t="/",a=e.routes,n=1;n<r.length;n++){var o=r[n];"/"===o?(a=(t in a?a[t]:a["/*"])[1],t="/"):t+=o}return(t in a?a[t]:a["/*"])[0](e)}},f={};Object.create(null);function c(e,r){e&&("function"==typeof e?e(r):"object"==typeof e&&(e.current=r))}function v(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var t=document.createElement(r);t.MoonChildren=t.MoonChildren||[];var a=e.data;for(var n in a){var o=a[n];if("o"===n[0]&&"n"===n[1])t[n.toLowerCase()]=o;else switch(n){case"attributes":for(var i in o)t.setAttribute(i,o[i]);break;case"style":var s=t.style;for(var l in o)s[l]=o[l];break;case"innerHTML":t.innerHTML=o;break;case"focus":o&&t.focus();break;case"class":t.className=o;break;case"for":t.htmlFor=o;break;case"ref":c(o,t);break;case"children":for(var u=t.MoonChildren=[],d=0;d<o.length;d++){var f=v(o[d]);u.push(f),t.appendChild(f)}break;default:t[n]=o}}return t}Node.prototype.MoonChildren=null;var m={set:function(e){if(r.name===e.name)!function e(r,t,a){var n=r.data,o=a.data;for(var i in o){var s=n[i],l=o[i];if(s!==l)if("o"===i[0]&&"n"===i[1])t[i.toLowerCase()]=l;else switch(i){case"attributes":if(void 0===s)for(var u in l)t.setAttribute(u,l[u]);else{for(var d in l){var m=l[d];s[d]!==m&&t.setAttribute(d,m)}for(var p in s)p in l||t.removeAttribute(p)}break;case"style":var h=t.style;if(void 0===s)for(var b in l)h[b]=l[b];else{for(var g in l){var y=l[g];s[g]!==y&&(h[g]=y)}for(var k in s)k in l||(h[k]="")}break;case"focus":l?t.focus():t.blur();break;case"class":t.className=l;break;case"for":t.htmlFor=l;break;case"children":for(var C=t.MoonChildren||[],w=l.length,x=[],M=!0,L=0;L<w;L++){var T=l[L].data&&l[L].data.key;void 0===T?M=!1:!0,x.push(T)}if(void 0===s){for(var j=0;j<w;j++){var A=v(l[j]);C.push(A),t.appendChild(A)}t.MoonChildren=C}else if(M){for(var N={},S=0;S<s.length;S++){var O=s[S].data&&s[S].data.key;void 0!==O&&(N[O]={node:s[S],el:C[S],used:!1})}for(var q=[],E=0;E<w;E++){var H=l[E],P=N[x[E]];if(P)e(P.node,P.el,H),P.used=!0,q.push(P.el);else{var F=v(H);q.push(F),t.appendChild(F)}}for(var R in N)N[R].used||t.removeChild(N[R].el);t.MoonChildren=q}else{var z=s.length;if(z===w)for(var D=0;D<z;D++){var G=s[D],X=l[D];if(G!==X)if(G.name===X.name)e(G,C[D],X);else{var $=v(X);t.replaceChild($,C[D]),C[D]=$}}else if(z>w){for(var B=0;B<w;B++){var I=s[B],J=l[B];if(I!==J)if(I.name===J.name)e(I,C[B],J);else{var K=v(J);t.replaceChild(K,C[B]),C[B]=K}}for(var Q=w;Q<z;Q++)t.removeChild(C.pop())}else{for(var U=0;U<z;U++){var V=s[U],W=l[U];if(V!==W)if(V.name===W.name)e(V,C[U],W);else{var Y=v(W);t.replaceChild(Y,C[U]),C[U]=Y}}for(var Z=z;Z<w;Z++){var _=v(l[Z]);C.push(_),t.appendChild(_)}}}break;default:t[i]=l}}for(var ee in n)if(!(ee in o))if("o"===ee[0]&&"n"===ee[1])t[ee.toLowerCase()]=null;else switch(ee){case"attributes":var re=n.attributes;for(var te in re)t.removeAttribute(te);break;case"focus":t.blur();break;case"class":t.className="";break;case"for":t.htmlFor="";break;case"children":for(var ae=n.children.length,ne=t.MoonChildren||[],oe=0;oe<ae;oe++)t.removeChild(ne.pop());break;case"ref":c(n.ref,null);break;default:var ie=r.name;t[ee]=(ie in f?f[ie]:f[ie]="text"===ie?document.createTextNode(""):document.createElement(ie))[ee]}}(r,t,e);else{var o=v(e);t.parentNode.replaceChild(o,t),n(o)}a(e)}},p={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},h={get:function(){return localStorage},set:function(e){for(var r in e){var t=e[r];localStorage[r]!==t&&(localStorage[r]=t)}for(var a in localStorage)a in e||delete localStorage[a]}},b=/^([^:]+):\s*([^]*?)\s*$/gm,g={set:function(e){var r=new XMLHttpRequest;if(r.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(r.onload=function(){for(var t,a={},n=r.getAllResponseHeaders();null!==(t=b.exec(n));)a[t[1]]=t[2];e.onLoad({status:r.status,headers:a,body:r.response})}),"onError"in e&&(r.onerror=e.onError),r.open("method"in e?e.method:"GET",e.url),"headers"in e){var t=e.headers;for(var a in t)r.setRequestHeader(a,t[a])}r.send("body"in e?e.body:null)}},y={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},k={data:{}};return Object.defineProperty(k,"view",m),Object.defineProperty(k,"time",p),Object.defineProperty(k,"storage",h),Object.defineProperty(k,"http",g),Object.defineProperty(k,"route",y),{m:k,route:d,version:"1.0.0-beta.7",view:u}}));