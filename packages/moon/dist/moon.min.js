/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,t=null;function a(e){r=e}function n(e){t=e}for(var o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],i={node:function(r){return function(t){return new e(r,t)}}},s=function(){var r=o[l];i[r]=function(t){return new e(r,t)}},l=0;l<o.length;l++)s();var u={components:i,mount:function(r){n(r);for(var o=t.attributes,i={},s=0;s<o.length;s++){var l=o[s];i[l.name]=l.value}a(new e(t.tagName.toLowerCase(),i))},normalizeChildren:function e(r){if(null==r||"boolean"==typeof r)return[];if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++)for(var n=e(r[a]),o=0;o<n.length;o++)t.push(n[o]);return t}var s=typeof r;return"string"===s||"number"===s||"bigint"===s?[i.text({data:String(r)})]:r&&void 0!==r.name?[r]:[i.text({data:String(r)})]}};var d={router:function(e){for(var r=e.route,t="/",a=e.routes,n=1;n<r.length;n++){var o=r[n];"/"===o?(a=(t in a?a[t]:a["/*"])[1],t="/"):t+=o}return(t in a?a[t]:a["/*"])[0](e)}},f={};Object.create(null);function c(e,r){e&&("function"==typeof e?e(r):"object"==typeof e&&(e.current=r))}function v(e){if(!e||"object"!=typeof e)return e;for(var r=Object.keys(e),t=0;t<r.length;t++){var a=r[t];if(-1!==a.indexOf("-")){for(var n=a.split("-"),o=n[0],i=1;i<n.length;i++){var s=n[i];s.length>0&&(o+=s[0].toUpperCase()+s.slice(1))}o in e||(e[o]=e[a]),delete e[a]}}return e}function p(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var t=document.createElement(r);t.MoonChildren=t.MoonChildren||[];var a=e.data;for(var n in a){var o=a[n];if("o"===n[0]&&"n"===n[1])t[n.toLowerCase()]=o;else switch(n){case"attributes":for(var i in o)t.setAttribute(i,o[i]);break;case"style":var s=t.style;for(var l in v(o),o)s[l]=o[l];break;case"innerHTML":t.innerHTML=o;break;case"focus":o&&t.focus();break;case"class":t.className=o;break;case"for":t.htmlFor=o;break;case"ref":c(o,t);break;case"children":for(var u=t.MoonChildren=[],d=0;d<o.length;d++){var f=p(o[d]);u.push(f),t.appendChild(f)}break;default:t[n]=o}}return t}Node.prototype.MoonChildren=null;var m={set:function(e){if(r.name===e.name)!function e(r,t,a){var n=r.data,o=a.data;for(var i in o){var s=n[i],l=o[i];if(s!==l)if("o"===i[0]&&"n"===i[1])t[i.toLowerCase()]=l;else switch(i){case"attributes":if(void 0===s)for(var u in l)t.setAttribute(u,l[u]);else{for(var d in l){var m=l[d];s[d]!==m&&t.setAttribute(d,m)}for(var h in s)h in l||t.removeAttribute(h)}break;case"style":var b=t.style;if(v(l),s&&v(s),void 0===s)for(var g in l)b[g]=l[g];else{for(var y in l){var k=l[y];s[y]!==k&&(b[y]=k)}for(var C in s)C in l||(b[C]="")}break;case"focus":l?t.focus():t.blur();break;case"class":t.className=l;break;case"for":t.htmlFor=l;break;case"children":for(var w=t.MoonChildren||[],x=l.length,M=[],j=!0,L=0;L<x;L++){var T=l[L].data&&l[L].data.key;void 0===T?j=!1:!0,M.push(T)}if(void 0===s){for(var A=0;A<x;A++){var N=p(l[A]);w.push(N),t.appendChild(N)}t.MoonChildren=w}else if(j){for(var O={},S=0;S<s.length;S++){var q=s[S].data&&s[S].data.key;void 0!==q&&(O[q]={node:s[S],el:w[S],used:!1})}for(var E=[],H=0;H<x;H++){var P=l[H],F=O[M[H]];if(F)e(F.node,F.el,P),F.used=!0,E.push(F.el);else{var R=p(P);E.push(R),t.appendChild(R)}}for(var z in O)O[z].used||t.removeChild(O[z].el);t.MoonChildren=E}else{var D=s.length;if(D===x)for(var G=0;G<D;G++){var U=s[G],X=l[G];if(U!==X)if(U.name===X.name)e(U,w[G],X);else{var $=p(X);t.replaceChild($,w[G]),w[G]=$}}else if(D>x){for(var B=0;B<x;B++){var I=s[B],J=l[B];if(I!==J)if(I.name===J.name)e(I,w[B],J);else{var K=p(J);t.replaceChild(K,w[B]),w[B]=K}}for(var Q=x;Q<D;Q++)t.removeChild(w.pop())}else{for(var V=0;V<D;V++){var W=s[V],Y=l[V];if(W!==Y)if(W.name===Y.name)e(W,w[V],Y);else{var Z=p(Y);t.replaceChild(Z,w[V]),w[V]=Z}}for(var _=D;_<x;_++){var ee=p(l[_]);w.push(ee),t.appendChild(ee)}}}break;default:t[i]=l}}for(var re in n)if(!(re in o))if("o"===re[0]&&"n"===re[1])t[re.toLowerCase()]=null;else switch(re){case"attributes":var te=n.attributes;for(var ae in te)t.removeAttribute(ae);break;case"focus":t.blur();break;case"class":t.className="";break;case"for":t.htmlFor="";break;case"children":for(var ne=n.children.length,oe=t.MoonChildren||[],ie=0;ie<ne;ie++)t.removeChild(oe.pop());break;case"ref":c(n.ref,null);break;default:var se=r.name;t[re]=(se in f?f[se]:f[se]="text"===se?document.createTextNode(""):document.createElement(se))[re]}}(r,t,e);else{var o=p(e);t.parentNode.replaceChild(o,t),n(o)}a(e)}},h={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},b={get:function(){return localStorage},set:function(e){for(var r in e){var t=e[r];localStorage[r]!==t&&(localStorage[r]=t)}for(var a in localStorage)a in e||delete localStorage[a]}},g=/^([^:]+):\s*([^]*?)\s*$/gm,y={set:function(e){var r=new XMLHttpRequest;if(r.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(r.onload=function(){for(var t,a={},n=r.getAllResponseHeaders();null!==(t=g.exec(n));)a[t[1]]=t[2];e.onLoad({status:r.status,headers:a,body:r.response})}),"onError"in e&&(r.onerror=e.onError),r.open("method"in e?e.method:"GET",e.url),"headers"in e){var t=e.headers;for(var a in t)r.setRequestHeader(a,t[a])}r.send("body"in e?e.body:null)}},k={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},C={data:{}};return Object.defineProperty(C,"view",m),Object.defineProperty(C,"time",h),Object.defineProperty(C,"storage",b),Object.defineProperty(C,"http",y),Object.defineProperty(C,"route",k),{m:C,route:d,version:"1.0.0-beta.7",view:u}}));