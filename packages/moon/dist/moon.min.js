/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,a=null;function t(e){r=e}function o(e){a=e}for(var n=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],i={node:function(r){return function(a){return new e(r,a)}}},s=function(){var r=n[l];i[r]=function(a){return new e(r,a)}},l=0;l<n.length;l++)s();var d={components:i,mount:function(r){o(r);for(var n=a.attributes,i={},s=0;s<n.length;s++){var l=n[s];i[l.name]=l.value}t(new e(a.tagName.toLowerCase(),i))}};var u={router:function(e){for(var r=e.route,a="/",t=e.routes,o=1;o<r.length;o++){var n=r[o];"/"===n?(t=(a in t?t[a]:t["/*"])[1],a="/"):a+=n}return(a in t?t[a]:t["/*"])[0](e)}},c={};function f(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var a=document.createElement(r);a.MoonChildren=a.MoonChildren||[];var t=e.data;for(var o in t){var n=t[o];if("o"===o[0]&&"n"===o[1])a[o.toLowerCase()]=n;else switch(o){case"attributes":for(var i in n)a.setAttribute(i,n[i]);break;case"style":var s=a.style;for(var l in n)s[l]=n[l];break;case"innerHTML":a.innerHTML=n;break;case"focus":n&&a.focus();break;case"class":a.className=n;break;case"for":a.htmlFor=n;break;case"children":for(var d=a.MoonChildren=[],u=0;u<n.length;u++){var c=f(n[u]);d.push(c),a.appendChild(c)}break;default:a[o]=n}}return a}Node.prototype.MoonChildren=null;var v={set:function(e){if(r.name===e.name)!function e(r,a,t){var o=r.data,n=t.data;for(var i in n){var s=o[i],l=n[i];if(s!==l)if("o"===i[0]&&"n"===i[1])a[i.toLowerCase()]=l;else switch(i){case"attributes":if(void 0===s)for(var d in l)a.setAttribute(d,l[d]);else{for(var u in l){var v=l[u];s[u]!==v&&a.setAttribute(u,v)}for(var m in s)m in l||a.removeAttribute(m)}break;case"style":var p=a.style;if(void 0===s)for(var h in l)p[h]=l[h];else{for(var b in l){var g=l[b];s[b]!==g&&(p[b]=g)}for(var k in s)k in l||(p[k]="")}break;case"focus":l?a.focus():a.blur();break;case"class":a.className=l;break;case"for":a.htmlFor=l;break;case"children":for(var y=a.MoonChildren||[],C=l.length,w=[],x=!0,M=0;M<C;M++){var L=l[M].data&&l[M].data.key;if(void 0===L){x=!1;break}w.push(L)}if(void 0===s){for(var T=0;T<C;T++){var N=f(l[T]);y.push(N),a.appendChild(N)}a.MoonChildren=y}else if(x){for(var j={},A=0;A<s.length;A++){var S=s[A].data&&s[A].data.key;void 0!==S&&(j[S]={node:s[A],el:y[A],used:!1})}for(var q=[],E=0;E<C;E++){var H=l[E],O=j[w[E]];if(O)e(O.node,O.el,H),O.used=!0,q.push(O.el);else{var P=f(H);q.push(P),a.appendChild(P)}}for(var F in j)j[F].used||a.removeChild(j[F].el);a.MoonChildren=q}else{var R=s.length;if(R===C)for(var D=0;D<R;D++){var G=s[D],X=l[D];if(G!==X)if(G.name===X.name)e(G,y[D],X);else{var $=f(X);a.replaceChild($,y[D]),y[D]=$}}else if(R>C){for(var z=0;z<C;z++){var B=s[z],I=l[z];if(B!==I)if(B.name===I.name)e(B,y[z],I);else{var J=f(I);a.replaceChild(J,y[z]),y[z]=J}}for(var K=C;K<R;K++)a.removeChild(y.pop())}else{for(var Q=0;Q<R;Q++){var U=s[Q],V=l[Q];if(U!==V)if(U.name===V.name)e(U,y[Q],V);else{var W=f(V);a.replaceChild(W,y[Q]),y[Q]=W}}for(var Y=R;Y<C;Y++){var Z=f(l[Y]);y.push(Z),a.appendChild(Z)}}}break;default:a[i]=l}}for(var _ in o)if(!(_ in n))if("o"===_[0]&&"n"===_[1])a[_.toLowerCase()]=null;else switch(_){case"attributes":var ee=o.attributes;for(var re in ee)a.removeAttribute(re);break;case"focus":a.blur();break;case"class":a.className="";break;case"for":a.htmlFor="";break;case"children":for(var ae=o.children.length,te=a.MoonChildren||[],oe=0;oe<ae;oe++)a.removeChild(te.pop());break;default:var ne=r.name;a[_]=(ne in c?c[ne]:c[ne]="text"===ne?document.createTextNode(""):document.createElement(ne))[_]}}(r,a,e);else{var n=f(e);a.parentNode.replaceChild(n,a),o(n)}t(e)}},m={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},p={get:function(){return localStorage},set:function(e){for(var r in e){var a=e[r];localStorage[r]!==a&&(localStorage[r]=a)}for(var t in localStorage)t in e||delete localStorage[t]}},h=/^([^:]+):\s*([^]*?)\s*$/gm,b={set:function(e){var r=new XMLHttpRequest;if(r.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(r.onload=function(){for(var a,t={},o=r.getAllResponseHeaders();null!==(a=h.exec(o));)t[a[1]]=a[2];e.onLoad({status:r.status,headers:t,body:r.response})}),"onError"in e&&(r.onerror=e.onError),r.open("method"in e?e.method:"GET",e.url),"headers"in e){var a=e.headers;for(var t in a)r.setRequestHeader(t,a[t])}r.send("body"in e?e.body:null)}},g={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},k={data:{}};return Object.defineProperty(k,"view",v),Object.defineProperty(k,"time",m),Object.defineProperty(k,"storage",p),Object.defineProperty(k,"http",b),Object.defineProperty(k,"route",g),{m:k,route:u,version:"1.0.0-beta.7",view:d}}));