/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 kbrsh
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,t=null;function n(e){r=e}function a(e){t=e}for(var o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],i={node:function(r){return function(t){return new e(r,t)}}},s=function(){var r=o[l];i[r]=function(t){return new e(r,t)}},l=0;l<o.length;l++)s();var u={};function c(e,r){e&&("function"==typeof e?e(r):"object"==typeof e&&(e.current=r))}function f(e){if(!e||"object"!=typeof e)return e;for(var r=Object.keys(e),t=0;t<r.length;t++){var n=r[t];if(null!=n&&-1!==n.indexOf("-")){for(var a=n.split("-"),o=a[0],i=1;i<a.length;i++){var s=a[i];s.length>0&&(o+=s[0].toUpperCase()+s.slice(1))}o in e||(e[o]=e[n]),delete e[n]}}return e}function d(e){switch(e){case"onChange":return"oninput";case"onDoubleClick":return"ondblclick";case"onFocus":return"onfocus";case"onBlur":return"onblur";case"onSubmit":return"onsubmit";case"onMouseEnter":return"onmouseenter";case"onMouseLeave":return"onmouseleave";case"onMouseOver":return"onmouseover";case"onMouseOut":return"onmouseout";case"onKeyDown":return"onkeydown";case"onKeyUp":return"onkeyup";case"onKeyPress":return"onkeypress";case"onInput":return"oninput";default:return e.toLowerCase()}}function v(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var t=document.createElement(r);t.MoonChildren=t.MoonChildren||[];var n=e.data;for(var a in n){var o=n[a];if("o"===a[0]&&"n"===a[1])t[d(a)]=o;else switch(a){case"attributes":for(var i in o)t.setAttribute(i,o[i]);break;case"style":var s=t.style;for(var l in f(o),o)s[l]=o[l];break;case"innerHTML":t.innerHTML=o;break;case"focus":o&&t.focus();break;case"class":t.className=o;break;case"for":t.htmlFor=o;break;case"ref":c(o,t);break;case"children":for(var u=t.MoonChildren=[],p=0;p<o.length;p++){var m=v(o[p]);u.push(m),t.appendChild(m)}break;default:t[a]=o}}return t}Node.prototype.MoonChildren=null;var p={set:function(e){if(r.name===e.name)!function e(r,t,n){var a=r.data,o=n.data;for(var i in o){var s=a[i],l=o[i];if(s!==l)if("o"===i[0]&&"n"===i[1])r.name,t[d(i)]=l;else switch(i){case"attributes":if(void 0===s)for(var p in l)t.setAttribute(p,l[p]);else{for(var m in l){var b=l[m];s[m]!==b&&t.setAttribute(m,b)}for(var h in s)h in l||t.removeAttribute(h)}break;case"style":var g=t.style;if(r.name,f(l),s&&f(s),void 0===s)for(var y in l)g[y]=l[y];else{for(var k in l){var C=l[k];s[k]!==C&&(g[k]=C)}for(var w in s)w in l||(g[w]="")}break;case"focus":l?t.focus():t.blur();break;case"class":t.className=l;break;case"for":t.htmlFor=l;break;case"children":for(var x=t.MoonChildren||[],M=l.length,j=[],A=!0,O=Object.create(null),L=0;L<M;L++){var S=l[L].data&&l[L].data.key;void 0===S?A=!1:(!0,O[S]?!0:O[S]=!0),j.push(S)}if(void 0===s){for(var T=0;T<M;T++){var N=v(l[T]);x.push(N),t.appendChild(N)}t.MoonChildren=x}else if(A){for(var P={},E=0;E<s.length;E++){var q=s[E].data&&s[E].data.key;void 0!==q&&(P[q]={node:s[E],el:x[E],used:!1})}for(var H=[],F=0;F<M;F++){var D=l[F],K=P[j[F]];if(K)e(K.node,K.el,D),K.used=!0,H.push(K.el);else{var R=v(D);H.push(R),t.appendChild(R)}}for(var U in P)P[U].used||t.removeChild(P[U].el);t.MoonChildren=H}else{var z=s.length;if(z===M)for(var B=0;B<z;B++){var G=s[B],I=l[B];if(G!==I)if(G.name===I.name)e(G,x[B],I);else{var X=v(I);t.replaceChild(X,x[B]),x[B]=X}}else if(z>M){for(var $=0;$<M;$++){var J=s[$],Q=l[$];if(J!==Q)if(J.name===Q.name)e(J,x[$],Q);else{var V=v(Q);t.replaceChild(V,x[$]),x[$]=V}}for(var W=M;W<z;W++)t.removeChild(x.pop())}else{for(var Y=0;Y<z;Y++){var Z=s[Y],_=l[Y];if(Z!==_)if(Z.name===_.name)e(Z,x[Y],_);else{var ee=v(_);t.replaceChild(ee,x[Y]),x[Y]=ee}}for(var re=z;re<M;re++){var te=v(l[re]);x.push(te),t.appendChild(te)}}}break;default:t[i]=l}}for(var ne in a)if(!(ne in o))if("o"===ne[0]&&"n"===ne[1])t[ne.toLowerCase()]=null;else switch(ne){case"attributes":var ae=a.attributes;for(var oe in ae)t.removeAttribute(oe);break;case"focus":t.blur();break;case"class":t.className="";break;case"for":t.htmlFor="";break;case"children":for(var ie=a.children.length,se=t.MoonChildren||[],le=0;le<ie;le++)t.removeChild(se.pop());break;case"ref":c(a.ref,null);break;default:var ue=r.name;t[ne]=(ue in u?u[ue]:u[ue]="text"===ue?document.createTextNode(""):document.createElement(ue))[ne]}}(r,t,e);else{var o=v(e);t.parentNode.replaceChild(o,t),a(o)}n(e)}},m={components:i,mount:function(r){a(r);for(var o=t.attributes,i={},s=0;s<o.length;s++){var l=o[s];i[l.name]=l.value}n(new e(t.tagName.toLowerCase(),i))},normalizeChildren:function e(r){if(null==r||"boolean"==typeof r)return[];if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)for(var a=e(r[n]),o=0;o<a.length;o++)t.push(a[o]);return t}var s=typeof r;return"string"===s||"number"===s||"bigint"===s?[i.text({data:String(r)})]:r&&void 0!==r.name?[r]:[i.text({data:String(r)})]},cls:function e(){for(var r="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)r+=(r?" ":"")+n;else if(Array.isArray(n)){var o=e.apply(null,n);o&&(r+=(r?" ":"")+o)}else if("object"===a)for(var i in n)n[i]&&(r+=(r?" ":"")+i)}}return r},mergeProps:function(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];if(t&&"object"==typeof t)for(var n in t)e[n]=t[n]}return e}};var b={router:function(e){for(var r=e.route,t="/",n=e.routes,a=1;a<r.length;a++){var o=r[a];"/"===o?(n=(t in n?n[t]:n["/*"])[1],t="/"):t+=o}return(t in n?n[t]:n["/*"])[0](e)}},h={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},g={get:function(){return localStorage},set:function(e){for(var r in e){var t=e[r];localStorage[r]!==t&&(localStorage[r]=t)}for(var n in localStorage)n in e||delete localStorage[n]}},y=/^([^:]+):\s*([^]*?)\s*$/gm,k={set:function(e){var r=new XMLHttpRequest;if(r.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(r.onload=function(){for(var t,n={},a=r.getAllResponseHeaders();null!==(t=y.exec(a));)n[t[1]]=t[2];e.onLoad({status:r.status,headers:n,body:r.response})}),"onError"in e&&(r.onerror=e.onError),r.open("method"in e?e.method:"GET",e.url),"headers"in e){var t=e.headers;for(var n in t)r.setRequestHeader(n,t[n])}r.send("body"in e?e.body:null)}},C={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},w={data:{}};return Object.defineProperty(w,"view",p),Object.defineProperty(w,"time",h),Object.defineProperty(w,"storage",g),Object.defineProperty(w,"http",k),Object.defineProperty(w,"route",C),{m:w,route:b,version:"1.0.0-beta.7",view:m}}));